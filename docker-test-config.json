{
  "docker_e2e_test_config": {
    "version": "1.0",
    "description": "Comprehensive E2E test configuration for Docker validation",
    "target_success_rate": 95,
    "test_categories": {
      "environment": {
        "description": "Container environment validation",
        "priority": "critical",
        "timeout": 30,
        "required_commands": [
          "uname -a",
          "node --version",
          "pnpm --version",
          "pwd",
          "ls -la"
        ]
      },
      "cli_availability": {
        "description": "CLI command availability testing",
        "priority": "critical",
        "timeout": 60,
        "fallback_methods": [
          "waltodo --help",
          "./bin/run --help",
          "node apps/cli/dist/index.js --help",
          "pnpm waltodo --help",
          "npx ts-node apps/cli/src/index.ts --help"
        ]
      },
      "readme_commands": {
        "description": "Validation of all README example commands",
        "priority": "high",
        "timeout": 120,
        "commands": [
          {
            "name": "Add with AI",
            "command": "waltodo add \"Complete project milestone\" --ai",
            "help_version": "waltodo add --help",
            "expected_exit_code": 0,
            "category": "core_functionality"
          },
          {
            "name": "List NFTs",
            "command": "waltodo list --nft",
            "help_version": "waltodo list --help",
            "expected_exit_code": 0,
            "category": "core_functionality"
          },
          {
            "name": "Complete Todo",
            "command": "waltodo complete --id 123",
            "help_version": "waltodo complete --help",
            "expected_exit_code": 0,
            "category": "core_functionality"
          },
          {
            "name": "Store List",
            "command": "waltodo store my-important-list",
            "help_version": "waltodo store --help",
            "expected_exit_code": 0,
            "category": "storage_operations"
          },
          {
            "name": "Deploy Testnet",
            "command": "waltodo deploy --network testnet",
            "help_version": "waltodo deploy --help",
            "expected_exit_code": 0,
            "category": "blockchain_operations"
          },
          {
            "name": "Transfer NFT",
            "command": "waltodo transfer --todo <nft-id> --to <sui-address>",
            "help_version": "waltodo transfer --help",
            "expected_exit_code": 0,
            "category": "blockchain_operations"
          },
          {
            "name": "AI Analyze",
            "command": "waltodo ai analyze --verify",
            "help_version": "waltodo ai --help",
            "expected_exit_code": 0,
            "category": "ai_features"
          },
          {
            "name": "Background Sync",
            "command": "waltodo sync --background",
            "help_version": "waltodo sync --help",
            "expected_exit_code": 0,
            "category": "sync_operations"
          }
        ]
      },
      "extended_commands": {
        "description": "Extended CLI command validation",
        "priority": "medium",
        "timeout": 90,
        "command_groups": {
          "basic_operations": [
            "waltodo --help",
            "waltodo --version",
            "waltodo add \"Test todo\"",
            "waltodo list",
            "waltodo list --json"
          ],
          "storage_operations": [
            "waltodo store --help",
            "waltodo retrieve --help",
            "waltodo storage --help",
            "waltodo storage --analyze"
          ],
          "blockchain_operations": [
            "waltodo deploy --help",
            "waltodo verify --help",
            "waltodo sync --help"
          ],
          "account_management": [
            "waltodo account --help",
            "waltodo configure --help",
            "waltodo config --help"
          ],
          "ai_features": [
            "waltodo ai --help",
            "waltodo ai credentials --help",
            "waltodo suggest --help"
          ],
          "advanced_features": [
            "waltodo interactive --help",
            "waltodo history --help",
            "waltodo jobs --help",
            "waltodo status",
            "waltodo queue --help",
            "waltodo daemon --help"
          ],
          "utility_commands": [
            "waltodo env --help",
            "waltodo validate-config --help",
            "waltodo template --help",
            "waltodo provider --help",
            "waltodo share --help"
          ]
        }
      },
      "error_conditions": {
        "description": "Error condition testing",
        "priority": "medium",
        "timeout": 30,
        "negative_tests": [
          {
            "command": "waltodo invalid-command-xyz",
            "expected_exit_code": 1,
            "description": "Invalid command test"
          },
          {
            "command": "waltodo list --invalid-flag",
            "expected_exit_code": 1,
            "description": "Invalid flag test"
          },
          {
            "command": "waltodo complete",
            "expected_exit_code": 1,
            "description": "Missing required argument test"
          }
        ]
      },
      "performance_scenarios": {
        "description": "Performance and reliability testing",
        "priority": "low",
        "timeout": 180,
        "performance_tests": [
          {
            "name": "Multiple Operations",
            "command": "waltodo list && waltodo list && waltodo list",
            "max_duration": 30,
            "description": "Multiple consecutive operations"
          },
          {
            "name": "Help Performance",
            "command": "time waltodo --help",
            "max_duration": 15,
            "description": "Help command performance"
          },
          {
            "name": "Output Size Test",
            "command": "waltodo --help | wc -l",
            "min_lines": 10,
            "description": "Help output size validation"
          }
        ]
      }
    },
    "reporting": {
      "generate_markdown": true,
      "include_timings": true,
      "include_failure_analysis": true,
      "include_category_breakdown": true,
      "success_criteria": {
        "minimum_success_rate": 95,
        "maximum_critical_failures": 0,
        "maximum_average_command_time": 30
      }
    },
    "docker_config": {
      "image": "waltodo-test:latest",
      "container_name": "waltodo-test-runner",
      "work_directory": "/home/testuser/waltodo",
      "timeout": 300,
      "volumes": [
        "test-results-docker:/tmp/test-results",
        "test-data-docker:/tmp/test-data",
        "logs-docker:/tmp/logs"
      ],
      "environment": {
        "NODE_ENV": "test",
        "WALTODO_TEST_MODE": "true",
        "WALTODO_SUPPRESS_WARNINGS": "true"
      }
    }
  }
}