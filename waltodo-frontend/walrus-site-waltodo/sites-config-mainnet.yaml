# Walrus Sites Configuration for WalTodo Frontend - Mainnet
# Optimized configuration following official Walrus Sites format

# Package configuration for Walrus Sites (mainnet)
package: 0xfdc88f7d7cf30afab2f82e8380d11ee8f70efb90e863d1de8616fae1bb09ea77

# Portal configuration (affects CLI output only)
portal: wal.app

# General configuration options
general:
  # Sui RPC configuration
  rpc_url: https://fullnode.mainnet.sui.io:443
  
  # Gas budget for transactions (500M MIST = 0.5 SUI)
  gas_budget: 500000000
  
  # Walrus client configuration
  walrus_config: ~/.config/walrus/client_config.yaml

# Site-specific configurations
sites:
  waltodo-app:
    # Source directory for site files
    source: "./out"
    
    # Network to deploy to
    network: mainnet
    
    # Storage duration in epochs (183 max = 1 year, each epoch = 2 days)
    epochs: 5
    
    # Custom headers for resources
    headers:
      "/*":
        - "Cache-Control: public, max-age=3600, s-maxage=86400"
        - "X-Content-Type-Options: nosniff"
        - "X-Frame-Options: DENY" 
        - "X-XSS-Protection: 1; mode=block"
        - "Referrer-Policy: strict-origin-when-cross-origin"
      "/_next/static/*":
        - "Cache-Control: public, max-age=31536000, immutable"
      "/icons/*":
        - "Cache-Control: public, max-age=31536000"
      "/config/*":
        - "Cache-Control: public, max-age=300"
    
    # URL routing configuration
    routes:
      "/": "/index.html"
      "/404": "/404.html"
    
    # Redirects for API calls and external resources
    redirects:
      - from: "/api/*"
        to: "https://api.waltodo.com/api/*"
        status: 307
        headers:
          - "Access-Control-Allow-Origin: *"
          - "Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS"
    
    # Error page configuration
    error_pages:
      404: "/404.html"
      500: "/404.html"
    
    # Site metadata
    metadata:
      title: "WalTodo - Decentralized Todo Management"
      description: "A decentralized todo application built on Sui and Walrus"
      author: "WalTodo Team"
      version: "1.0.0"