(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2158],{87093:function(e,t,s){Promise.resolve().then(s.bind(s,45877))},45877:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(29754);s(22585);var n=s(84065),a=s(82265);function i(){let{uploadBlob:e,retrieveBlob:t,error:s,loading:i}=(0,n.p)(),l=async()=>{try{var s;a.toast.loading("Testing Walrus operations...",{id:"test"});let r=new Uint8Array([1,2,3,4,5,6,7,8,9,10]),n=await e(r,{metadata:{type:"manual-test",timestamp:Date.now()}});if(!n.success)throw Error(n.error||"Upload failed");if(a.toast.success("Upload successful! Blob ID: ".concat(null===(s=n.blobId)||void 0===s?void 0:s.slice(0,8),"..."),{id:"test"}),n.blobId){let e=await t(n.blobId);if(!e.success)throw Error(e.error||"Retrieval failed");let s=e.data;s&&s.length===r.length&&(r.every((e,t)=>e===s[t])?a.toast.success("Data integrity verified!",{duration:3e3}):a.toast.error("Data integrity check failed!"))}}catch(e){a.toast.error(e instanceof Error?e.message:"Test failed",{id:"test"})}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Walrus Health Monitor"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:"Monitor and test the health of the Walrus storage service"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Manual Testing"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:l,disabled:i,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Testing...":"Run Manual Test"}),s&&(0,r.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:(0,r.jsxs)("p",{className:"text-sm text-red-700",children:[(0,r.jsx)("strong",{children:"Error:"})," ",s.message]})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Health Check Features"}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Automatic health monitoring every 30 seconds"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Connection status indicator with visual feedback"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Upload and retrieval testing with data integrity checks"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Network latency measurement and display"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Storage availability monitoring"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Manual retry functionality for failed connections"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Detailed diagnostic information and logs"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Automatic alerts on service degradation"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Fallback to local storage when service is unavailable"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),(0,r.jsx)("span",{children:"Health metrics logging for troubleshooting"})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"How It Works"}),(0,r.jsxs)("div",{className:"prose text-gray-600",children:[(0,r.jsx)("p",{className:"mb-4",children:"The WalrusHealthCheck component automatically monitors the health of the Walrus storage service. Look for the health indicator in the bottom-right corner of the screen:"}),(0,r.jsxs)("ul",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Green checkmark:"})," Service is healthy and operating normally"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Yellow warning:"})," Service is degraded but still functional"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Red alert:"})," Service is unhealthy or unavailable"]})]}),(0,r.jsx)("p",{className:"mb-4",children:"When the service is healthy, the indicator is minimized to avoid distraction. Click on it to expand and see detailed information about:"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:"Current connection status"}),(0,r.jsx)("li",{children:"Network latency measurements"}),(0,r.jsx)("li",{children:"Recent test results"}),(0,r.jsx)("li",{children:"Diagnostic logs"})]}),(0,r.jsx)("p",{children:"If the service becomes unavailable, the component will automatically suggest using local storage as a fallback, ensuring your todo data remains accessible."})]})]})]})})}},36729:function(e,t,s){"use strict";let r,n,a,i;s.d(t,{X3:function(){return x}});let l=(e,t)=>t.some(t=>e instanceof t),o=new WeakMap,c=new WeakMap,d=new WeakMap,h={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return u(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function u(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,s)=>{let r=()=>{e.removeEventListener("success",n),e.removeEventListener("error",a)},n=()=>{t(u(e.result)),r()},a=()=>{s(e.error),r()};e.addEventListener("success",n),e.addEventListener("error",a)});return d.set(t,e),t}(e);if(c.has(e))return c.get(e);let s="function"==typeof(t=e)?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(m(this),e),u(this.request)}:function(...e){return u(t.apply(m(this),e))}:(t instanceof IDBTransaction&&function(e){if(o.has(e))return;let t=new Promise((t,s)=>{let r=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",a),e.removeEventListener("abort",a)},n=()=>{t(),r()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",n),e.addEventListener("error",a),e.addEventListener("abort",a)});o.set(e,t)}(t),l(t,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,h):t;return s!==e&&(c.set(e,s),d.set(s,e)),s}let m=e=>d.get(e);function x(e,t,{blocked:s,upgrade:r,blocking:n,terminated:a}={}){let i=indexedDB.open(e,t),l=u(i);return r&&i.addEventListener("upgradeneeded",e=>{r(u(i.result),e.oldVersion,e.newVersion,u(i.transaction),e)}),s&&i.addEventListener("blocked",e=>s(e.oldVersion,e.newVersion,e)),l.then(e=>{a&&e.addEventListener("close",()=>a()),n&&e.addEventListener("versionchange",e=>n(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l}let g=["get","getKey","getAll","getAllKeys","count"],f=["put","add","delete","clear"],p=new Map;function j(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(p.get(t))return p.get(t);let s=t.replace(/FromIndex$/,""),r=t!==s,n=f.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(n||g.includes(s)))return;let a=async function(e,...t){let a=this.transaction(e,n?"readwrite":"readonly"),i=a.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[s](...t),n&&a.done]))[0]};return p.set(t,a),a}h={...a=h,get:(e,t,s)=>j(e,t)||a.get(e,t,s),has:(e,t)=>!!j(e,t)||a.has(e,t)};let b=["continue","continuePrimaryKey","advance"],v={},y=new WeakMap,N=new WeakMap,w={get(e,t){if(!b.includes(t))return e[t];let s=v[t];return s||(s=v[t]=function(...e){y.set(this,N.get(this)[t](...e))}),s}};async function*I(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let s=new Proxy(t,w);for(N.set(s,t),d.set(s,m(t));t;)yield s,t=await (y.get(s)||t.continue()),y.delete(s)}function D(e,t){return t===Symbol.asyncIterator&&l(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&l(e,[IDBIndex,IDBObjectStore])}h={...i=h,get:(e,t,s)=>D(e,t)?I:i.get(e,t,s),has:(e,t)=>D(e,t)||i.has(e,t)}}},function(e){e.O(0,[6168,2265,1705,6229,4065,9499,2391,1744],function(){return e(e.s=87093)}),_N_E=e.O()}]);