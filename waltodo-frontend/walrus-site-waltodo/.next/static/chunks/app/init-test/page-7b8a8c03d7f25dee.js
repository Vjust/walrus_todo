(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3818],{43393:function(e,t,n){Promise.resolve().then(n.bind(n,97468))},97468:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(29754),a=n(74162),l=n(59295),r=n(19132),s=n(6229),o=n(22585);function d(){let{isAppReady:e,isSuiClientReady:t,initializationError:n}=(0,a.N)(),{isInitialized:d,isInitializing:c,error:u}=(0,l.n)("testnet"),p=(0,s.tN)(),h=(null==p?void 0:p.connected)||!1,f=(null==p?void 0:p.address)||null,[m,g]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let e=()=>{g({...(0,r.a7)(),isSuiClientInitializedCheck:(0,r.isSuiClientInitialized)()})};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,i.jsxs)("div",{className:"container mx-auto p-8",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Initialization Test Page"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,i.jsx)("h2",{className:"font-semibold mb-2",children:"App Initialization"}),(0,i.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,i.jsxs)("div",{children:["App Ready: ",(0,i.jsx)("span",{className:e?"text-green-600":"text-red-600",children:String(e)})]}),(0,i.jsxs)("div",{children:["Sui Client Ready: ",(0,i.jsx)("span",{className:t?"text-green-600":"text-red-600",children:String(t)})]}),(0,i.jsxs)("div",{children:["Error: ",(0,i.jsx)("span",{className:"text-red-600",children:n||"None"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,i.jsx)("h2",{className:"font-semibold mb-2",children:"Sui Client Hook"}),(0,i.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,i.jsxs)("div",{children:["Initialized: ",(0,i.jsx)("span",{className:d?"text-green-600":"text-red-600",children:String(d)})]}),(0,i.jsxs)("div",{children:["Initializing: ",(0,i.jsx)("span",{className:c?"text-yellow-600":"text-gray-600",children:String(c)})]}),(0,i.jsxs)("div",{children:["Error: ",(0,i.jsx)("span",{className:"text-red-600",children:u||"None"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,i.jsx)("h2",{className:"font-semibold mb-2",children:"Wallet Context"}),(0,i.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,i.jsxs)("div",{children:["Connected: ",(0,i.jsx)("span",{className:h?"text-green-600":"text-red-600",children:String(h)})]}),(0,i.jsxs)("div",{children:["Address: ",(0,i.jsx)("span",{className:"font-mono text-xs",children:f||"None"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,i.jsx)("h2",{className:"font-semibold mb-2",children:"Client State"}),(0,i.jsx)("div",{className:"space-y-1 text-sm",children:m&&Object.entries(m).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{children:[t,": ",(0,i.jsx)("span",{className:"font-mono",children:String(n)})]},t)})})]})]})]})}},74162:function(e,t,n){"use strict";n.d(t,{N:function(){return s},q:function(){return o}});var i=n(29754),a=n(22585);let l={isClientReady:!1,isSuiClientReady:!1,isAppReady:!1,initializationError:null},r=(0,a.createContext)(l),s=()=>(0,a.useContext)(r)||l;function o(e){let{children:t}=e,[n,l]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{p(!0),l(!0),o(!0)},0);return()=>clearTimeout(e)},[]),(0,i.jsx)(r.Provider,{value:{isClientReady:n,isSuiClientReady:s,isAppReady:n&&s&&u,initializationError:d},children:t})}},59295:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var i=n(22585),a=n(19132);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"testnet",[t,n]=(0,i.useState)(!1),[l,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(null),[d,c]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1);(0,i.useEffect)(()=>{d&&!u&&(0,a.isSuiClientInitialized)()&&(n(!0),p(!0))},[d,u]);let h=(0,i.useCallback)(async()=>{if(d&&!l){if(t||(0,a.isSuiClientInitialized)()){t||n(!0);return}r(!0),o(null),p(!0);try{if(await (0,a.sP)(e),(0,a.isSuiClientInitialized)())d&&n(!0);else throw Error("Client initialization completed but verification failed")}catch(t){let e=t instanceof Error?t.message:"Failed to initialize Sui client";d&&(o(e),console.error("[useSuiClient] Initialization failed:",t))}finally{d&&r(!1)}}},[e,l,t,d]),f=(0,i.useCallback)(async()=>{if(!d)return null;try{if((0,a.isSuiClientInitialized)()||(console.warn("[useSuiClient] Client not available, attempting to initialize..."),await h(),(0,a.isSuiClientInitialized)()))return await (0,a.tx)();throw Error("Client still not available after initialization")}catch(e){return console.error("[useSuiClient] Failed to get client:",e),o(e instanceof Error?e.message:"Failed to get client"),null}},[h,d]);return(0,i.useEffect)(()=>(c(!0),()=>{c(!1)}),[]),(0,i.useEffect)(()=>{if(d&&!u&&!t){let e=setTimeout(()=>{h()},100);return()=>clearTimeout(e)}},[d,u,t,h]),{isInitialized:t,isInitializing:l,error:s,initialize:h,getClient:f}}},25288:function(e,t,n){"use strict";n.d(t,{P3:function(){return s},qn:function(){return d}}),n(22585);var i=n(32608);let a=null,l=null,r={testnet:{network:{name:"testnet",url:"https://fullnode.testnet.sui.io:443",faucetUrl:"https://faucet.testnet.sui.io",explorerUrl:"https://testnet.suiexplorer.com"},walrus:{networkUrl:"https://wal.testnet.sui.io",publisherUrl:"https://publisher-testnet.walrus.space",aggregatorUrl:"https://aggregator-testnet.walrus.space",apiPrefix:"https://api-testnet.walrus.tech/1.0"},deployment:{packageId:"0x0",digest:"unknown",timestamp:new Date().toISOString(),deployerAddress:"0x0"},contracts:{todoNft:{packageId:"0x0",moduleName:"todo_nft",structName:"TodoNFT"}},features:{aiEnabled:!0,blockchainVerification:!1,encryptedStorage:!1}},devnet:{network:{name:"devnet",url:"https://fullnode.devnet.sui.io:443",faucetUrl:"https://faucet.devnet.sui.io",explorerUrl:"https://devnet.suiexplorer.com"},walrus:{networkUrl:"https://wal.devnet.sui.io",publisherUrl:"https://publisher-devnet.walrus.space",aggregatorUrl:"https://aggregator-devnet.walrus.space",apiPrefix:"https://api-devnet.walrus.tech/1.0"},deployment:{packageId:"0x0",digest:"unknown",timestamp:new Date().toISOString(),deployerAddress:"0x0"},contracts:{todoNft:{packageId:"0x0",moduleName:"todo_nft",structName:"TodoNFT"}},features:{aiEnabled:!0,blockchainVerification:!1,encryptedStorage:!1}},localnet:{network:{name:"localnet",url:"http://localhost:9000",explorerUrl:"http://localhost:9001"},walrus:{networkUrl:"http://localhost:31415",publisherUrl:"http://localhost:31416",aggregatorUrl:"http://localhost:31417",apiPrefix:"http://localhost:31418/1.0"},deployment:{packageId:"0x0",digest:"unknown",timestamp:new Date().toISOString(),deployerAddress:"0x0"},contracts:{todoNft:{packageId:"0x0",moduleName:"todo_nft",structName:"TodoNFT"}},features:{aiEnabled:!0,blockchainVerification:!1,encryptedStorage:!1}}};async function s(e){try{let m=await fetch("/config/".concat(e,".json"));if(m.ok){var t,n,i,a,l,r,s,o,d,c,u,p,h,f;return{network:{name:(t=await m.json()).network||"testnet",url:t.rpcUrl||(null===(n=t.environment)||void 0===n?void 0:n.apiEndpoint)||"https://fullnode.testnet.sui.io:443",faucetUrl:t.faucetUrl,explorerUrl:t.explorerUrl||"https://testnet.suiexplorer.com"},walrus:{networkUrl:(null===(i=t.walrus)||void 0===i?void 0:i.networkUrl)||"https://wal.testnet.sui.io",publisherUrl:(null===(a=t.walrus)||void 0===a?void 0:a.publisherUrl)||"https://publisher-testnet.walrus.space",aggregatorUrl:(null===(l=t.walrus)||void 0===l?void 0:l.aggregatorUrl)||"https://aggregator-testnet.walrus.space",apiPrefix:(null===(r=t.walrus)||void 0===r?void 0:r.apiPrefix)||"https://api-testnet.walrus.tech/1.0"},deployment:{packageId:(null===(s=t.deployment)||void 0===s?void 0:s.packageId)||"0x0",digest:(null===(o=t.deployment)||void 0===o?void 0:o.transactionHash)||"unknown",timestamp:(null===(d=t.deployment)||void 0===d?void 0:d.timestamp)||new Date().toISOString(),deployerAddress:(null===(c=t.deployment)||void 0===c?void 0:c.deployerAddress)||"0x0"},contracts:{todoNft:{packageId:(null===(u=t.deployment)||void 0===u?void 0:u.packageId)||"0x0",moduleName:"todo_nft",structName:"TodoNFT"}},features:{aiEnabled:(null===(p=t.features)||void 0===p?void 0:p.aiIntegration)||!1,blockchainVerification:(null===(h=t.features)||void 0===h?void 0:h.blockchainVerification)||!1,encryptedStorage:(null===(f=t.features)||void 0===f?void 0:f.encryptedStorage)||!1}}}}catch(t){console.warn("Failed to load runtime config for ".concat(e,":"),t)}return null}async function o(e){return s(e)}async function d(){let e=i.env.NEXT_PUBLIC_NETWORK||"testnet";if(a&&l===e)return a;let t=await o(e);return t||(t=function(e){let t=r[e];if(!t)throw Error("No configuration available for network: ".concat(e));return console.warn("Using fallback configuration for ".concat(e," - run 'waltodo deploy' to generate proper config")),t}(e)),t.deployment.packageId&&"0x0"!==t.deployment.packageId||console.warn("Package ID not set - some blockchain features may not work"),a=t,l=e,t}}},function(e){e.O(0,[6168,6229,9499,2391,1744],function(){return e(e.s=43393)}),_N_E=e.O()}]);