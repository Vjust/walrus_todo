(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7519],{9566:function(e,t,a){Promise.resolve().then(a.bind(a,81286))},81286:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var s=a(29754),r=a(22585),i=a(3561),n=a(6694),o=a(6532),l=a(37103),c=a(25045),d=a(91393),h=a(58802),m=a(35118),u=a(78725),g=a(67777),p=a(26168),x=a(59295),f=a(63786),v=a(70198),w=a(53270);let y={high:"#ef4444",medium:"#f59e0b",low:"#10b981"},b=()=>{let e=(0,p.t)(),t=(0,x.n)(),{eventCache:a}=(0,f.$C)(),[b,j]=(0,r.useState)([]),[N,k]=(0,r.useState)(!0),[T,S]=(0,r.useState)(null),[E,D]=(0,r.useState)(0);(0,r.useEffect)(()=>{(async()=>{if((null==e?void 0:e.address)&&t)try{k(!0),S(null);let r=await t.getClient();if(!r)return;let i=await r.getOwnedObjects({owner:e.address,filter:{StructType:"".concat(w.re.U.Bm,"::").concat(w.re.U.e1,"::").concat(w.re.U.JR)},options:{showType:!0,showContent:!0,showDisplay:!0}}),n=[];for(let e of i.data){var a,s;if((null===(s=e.data)||void 0===s?void 0:null===(a=s.content)||void 0===a?void 0:a.dataType)==="moveObject"){let t=e.data.content.fields;n.push({id:e.data.objectId,title:t.title||"",content:t.content||"",priority:t.priority||"medium",completed:t.completed||!1,blobId:t.blob_id||"",storageSize:parseInt(t.storage_size||"0"),createdAt:parseInt(t.created_at||Date.now().toString()),completedAt:t.completed_at?parseInt(t.completed_at):void 0,tags:t.tags||[],walTokensSpent:parseInt(t.wal_tokens_spent||"0")})}}j(n)}catch(e){console.error("Error fetching NFTs:",e),S("Failed to fetch NFT statistics")}finally{k(!1)}})()},[e,t,E]),(0,r.useEffect)(()=>{a.filter(e=>e.type.includes("TodoCreated")||e.type.includes("TodoCompleted")||e.type.includes("TodoDeleted")).length>0&&D(e=>e+1)},[a]);let U=(0,r.useMemo)(()=>{if(0===b.length)return{totalCount:0,completedCount:0,completedPercentage:0,totalStorageBytes:0,averageCompletionTime:0,priorityDistribution:[],tagFrequency:[],completionOverTime:[],walTokenUsage:{totalSpent:0,averagePerTodo:0,estimatedRemaining:0}};let e=b.filter(e=>e.completed),t=e.length,a=t/b.length*100,s=b.reduce((e,t)=>e+t.storageSize,0),r=e.filter(e=>e.completedAt).map(e=>e.completedAt-e.createdAt),i=r.length>0?r.reduce((e,t)=>e+t,0)/r.length:0,n=Object.entries(b.reduce((e,t)=>(e[t.priority]=(e[t.priority]||0)+1,e),{})).map(e=>{let[t,a]=e;return{priority:t,count:a,percentage:a/b.length*100}}),o=Object.entries(b.reduce((e,t)=>(t.tags.forEach(t=>{e[t]=(e[t]||0)+1}),e),{})).map(e=>{let[t,a]=e;return{tag:t,count:a}}).sort((e,t)=>t.count-e.count).slice(0,20),l=Date.now()-2592e6,c={};for(let e=0;e<30;e++)c[new Date(l+864e5*e).toISOString().split("T")[0]]={total:0,completed:0};b.forEach(e=>{let t=new Date(e.createdAt).toISOString().split("T")[0];c[t]&&(c[t].total++,e.completed&&c[t].completed++)});let d=Object.entries(c).map(e=>{let[t,a]=e;return{date:t,completed:a.completed,total:a.total,rate:a.total>0?a.completed/a.total*100:0}}),h=b.reduce((e,t)=>e+t.walTokensSpent,0),m=b.length>0?h/b.length:0;return{totalCount:b.length,completedCount:t,completedPercentage:a,totalStorageBytes:s,averageCompletionTime:i,priorityDistribution:n,tagFrequency:o,completionOverTime:d,walTokenUsage:{totalSpent:h,averagePerTodo:m,estimatedRemaining:Math.max(0,1e3-h)}}},[b]);return N?(0,s.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):T?(0,s.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-red-600",children:T})}):e?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Todo NFT Statistics"}),(0,s.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify({exportDate:new Date().toISOString(),statistics:U,nfts:b.map(e=>({...e,createdAtFormatted:new Date(e.createdAt).toISOString(),completedAtFormatted:e.completedAt?new Date(e.completedAt).toISOString():null}))},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="todo-nft-stats-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Export Statistics"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total NFTs"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:U.totalCount})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Completed"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:[U.completedCount," (",U.completedPercentage.toFixed(1),"%)"]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Storage"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(U.totalStorageBytes)})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Avg Completion Time"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:(e=>{if(0===e)return"N/A";let t=Math.floor(e/864e5),a=Math.floor(e%864e5/36e5);return t>0?"".concat(t,"d ").concat(a,"h"):a>0?"".concat(a,"h"):"< 1h"})(U.averageCompletionTime)})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Completion Rate Over Time"}),(0,s.jsx)(i.h,{width:"100%",height:300,children:(0,s.jsxs)(n.T,{data:U.completionOverTime,children:[(0,s.jsx)(o.q,{strokeDasharray:"3 3"}),(0,s.jsx)(l.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString("en",{month:"short",day:"numeric"})}),(0,s.jsx)(c.B,{}),(0,s.jsx)(d.u,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:e=>["".concat(e,"%"),"Completion Rate"]}),(0,s.jsx)(h.u,{type:"monotone",dataKey:"rate",stroke:"#3b82f6",fill:"#93bbfc",strokeWidth:2})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Priority Distribution"}),(0,s.jsx)(i.h,{width:"100%",height:300,children:(0,s.jsxs)(m.u,{children:[(0,s.jsx)(u.b,{data:U.priorityDistribution,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{priority:t,percentage:a}=e;return"".concat(t,": ").concat(a.toFixed(1),"%")},outerRadius:80,fill:"#8884d8",dataKey:"count",children:U.priorityDistribution.map((e,t)=>(0,s.jsx)(g.b,{fill:y[e.priority]},"cell-".concat(t)))}),(0,s.jsx)(d.u,{})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Most Used Tags"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[U.tagFrequency.map((e,t)=>{let a=Math.max(.75,Math.min(2,e.count/10))+"rem";return(0,s.jsxs)("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full",style:{fontSize:a},children:[e.tag," (",e.count,")"]},t)}),0===U.tagFrequency.length&&(0,s.jsx)("p",{className:"text-gray-500",children:"No tags found"})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"WAL Token Usage"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Total Spent"}),(0,s.jsxs)("span",{className:"font-semibold",children:[U.walTokenUsage.totalSpent," WAL"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm mt-2",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Average per Todo"}),(0,s.jsxs)("span",{className:"font-semibold",children:[U.walTokenUsage.averagePerTodo.toFixed(2)," WAL"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm mt-2",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Estimated Remaining"}),(0,s.jsxs)("span",{className:"font-semibold text-green-600",children:[U.walTokenUsage.estimatedRemaining," WAL"]})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,s.jsx)("div",{className:"bg-blue-500 h-4 rounded-full transition-all duration-300",style:{width:"".concat(U.walTokenUsage.totalSpent/1e3*100,"%")}})}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(U.walTokenUsage.totalSpent/1e3*100).toFixed(1),"% of budget used"]})]})]})]})]}),(0,s.jsx)("div",{className:"text-center text-sm text-gray-500",children:(0,s.jsxs)("span",{className:"inline-flex items-center",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"}),"Real-time updates enabled â€¢ Last updated: ",(0,v.Q)(new Date,{addSuffix:!0})]})})]}):(0,s.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-yellow-800",children:"Please connect your wallet to view NFT statistics"})})};var j=a(73355),N=a(22278),k=a(19436),T=a(15039);function S(){let[e,t]=(0,r.useState)({totalNFTs:0,activeUsers:0,totalValue:0,transactions:0,avgCompletionTime:0,popularCategories:[]}),[a,i]=(0,r.useState)({sui:"online",walrus:"online"});return(0,r.useEffect)(()=>{let e=setInterval(()=>{t({totalNFTs:1247+Math.floor(10*Math.random()),activeUsers:89+Math.floor(5*Math.random()),totalValue:2.45+.1*Math.random(),transactions:3421+Math.floor(20*Math.random()),avgCompletionTime:2.3+.5*Math.random(),popularCategories:[{name:"Work",count:45,color:"bg-blue-500"},{name:"Personal",count:32,color:"bg-green-500"},{name:"Health",count:18,color:"bg-purple-500"},{name:"Finance",count:15,color:"bg-yellow-500"},{name:"Shopping",count:12,color:"bg-pink-500"}]})},3e3);return()=>clearInterval(e)},[]),(0,s.jsx)(N.q,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[(0,s.jsx)("div",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(T.default,{href:"/",className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"TodoNFT Analytics"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Real-time network insights"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("online"===a.sui?"bg-green-500":"bg-red-500")}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"Sui"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("online"===a.walrus?"bg-green-500":"bg-red-500")}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"Walrus"})]})]}),(0,s.jsx)(j.Z,{})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)(k.E.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Total TodoNFTs"}),(0,s.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.totalNFTs.toLocaleString()}),(0,s.jsx)("div",{className:"text-xs text-green-600",children:"+12.5% this week"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Active Users"}),(0,s.jsx)("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})]}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.activeUsers}),(0,s.jsx)("div",{className:"text-xs text-green-600",children:"+8.3% this week"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Total Value"}),(0,s.jsx)("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[e.totalValue.toFixed(2)," ETH"]}),(0,s.jsx)("div",{className:"text-xs text-green-600",children:"+15.7% this week"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Transactions"}),(0,s.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.transactions.toLocaleString()}),(0,s.jsx)("div",{className:"text-xs text-green-600",children:"+23.1% this week"})]})]}),(0,s.jsxs)(k.E.div,{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-200/50 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Popular Task Categories"}),(0,s.jsx)("div",{className:"space-y-4",children:e.popularCategories.map((e,t)=>(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.name}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[e.count,"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)(k.E.div,{className:"h-2 rounded-full ".concat(e.color),initial:{width:0},animate:{width:"".concat(e.count,"%")},transition:{delay:.4+.1*t,duration:.8}})})]})},e.name))})]}),(0,s.jsx)(k.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:(0,s.jsx)(b,{})})]})]})})}},27680:function(e,t,a){"use strict";a.d(t,{IH:function(){return o},co:function(){return l}});let s="waltodo_analytics",r={enabled:!0,maxStorageSize:5242880,retentionDays:30,samplingRate:1,debug:!1};class i{initialize(e){this.initialized||(this.config={...r,...e},this.initialized=!0,this.cleanOldData(),this.flushTimer=setInterval(()=>this.flush(),3e4),this.trackPagePerformance(),this.setupErrorTracking(),this.trackVisibilityChanges(),this.config.debug)}trackPerformance(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ms",s=arguments.length>3?arguments[3]:void 0;if(!this.shouldTrack())return;let r={name:e,value:t,unit:a,timestamp:Date.now(),metadata:s};this.data.performance.push(r),this.trimMetrics("performance",1e3),this.config.debug}trackError(e,t){if(!this.shouldTrack())return;let a="string"==typeof e?e:e.message,s=this.data.errors.find(e=>e.message===a);if(s)s.count++,s.timestamp=Date.now();else{let s={type:"string"==typeof e?"custom":e.name||"Error",message:a,stack:"object"==typeof e?e.stack:void 0,timestamp:Date.now(),context:t,count:1};this.data.errors.push(s),this.trimMetrics("errors",100)}this.config.debug&&console.error("[Analytics] Error tracked:",e)}trackUser(e,t,a,s){if(!this.shouldTrack())return;let r={action:e,category:t,value:a,timestamp:Date.now(),metadata:s};this.data.user.push(r),this.trimMetrics("user",500),this.config.debug}trackWallet(e){if(!this.shouldTrack())return;let t={...e,timestamp:Date.now()};this.data.wallet.push(t),this.trimMetrics("wallet",200),this.config.debug}trackTransaction(e){if(!this.shouldTrack())return;let t={...e,timestamp:Date.now()};this.data.transactions.push(t),this.trimMetrics("transactions",200),this.config.debug}trackStorage(e){if(!this.shouldTrack())return;let t={...e,timestamp:Date.now()};this.data.storage.push(t),this.trimMetrics("storage",200),this.config.debug}startTiming(e){let t=performance.now();return()=>{let a=performance.now()-t;this.trackPerformance(e,a,"ms")}}getSummary(){let e=Date.now()-this.data.session.startTime;return{session:{id:this.data.session.id,duration:e,startTime:this.data.session.startTime,lastActive:this.data.session.lastActive},performance:{count:this.data.performance.length,averageLoadTime:this.getAverageMetric("performance","page-load"),averageApiTime:this.getAverageMetric("performance","api-call")},errors:{total:this.data.errors.reduce((e,t)=>e+t.count,0),unique:this.data.errors.length,recent:this.data.errors.slice(-10)},user:{actions:this.data.user.length,categories:this.groupByCategory(this.data.user)},wallet:{connections:this.countWalletActions("connect"),transactions:this.data.transactions.length,successRate:this.getSuccessRate("transactions")},storage:{operations:this.data.storage.length,successRate:this.getSuccessRate("storage"),totalUploaded:this.getTotalStorageSize("upload"),totalDownloaded:this.getTotalStorageSize("download")}}}clear(){this.data=this.createEmptyData(),this.flush(),this.config.debug}export(){return JSON.stringify(this.data,null,2)}destroy(){this.flushTimer&&clearInterval(this.flushTimer),this.flush(),this.initialized=!1}generateSessionId(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}createEmptyData(){return{performance:[],errors:[],user:[],wallet:[],transactions:[],storage:[],session:{id:this.sessionId,startTime:Date.now(),lastActive:Date.now()}}}loadData(){if("undefined"==typeof localStorage)return this.createEmptyData();try{let e=localStorage.getItem(s);if(e){let t=JSON.parse(e);return t.session.id=this.sessionId,t.session.lastActive=Date.now(),t}}catch(e){console.error("[Analytics] Failed to load data:",e)}return this.createEmptyData()}flush(){if("undefined"!=typeof localStorage)try{JSON.stringify(this.data).length>this.config.maxStorageSize&&this.trimAllMetrics(),localStorage.setItem(s,JSON.stringify(this.data)),this.data.session.lastActive=Date.now()}catch(e){if(console.error("[Analytics] Failed to save data:",e),e instanceof DOMException&&"QuotaExceededError"===e.name){this.trimAllMetrics(.5);try{localStorage.setItem(s,JSON.stringify(this.data))}catch(e){this.clear()}}}}shouldTrack(){return!!this.initialized&&!!this.config.enabled&&(!(this.config.samplingRate<1)||Math.random()<this.config.samplingRate)}cleanOldData(){let e=Date.now()-864e5*this.config.retentionDays;Object.keys(this.data).forEach(t=>{Array.isArray(this.data[t])&&(this.data[t]=this.data[t].filter(t=>t.timestamp>e))})}trimMetrics(e,t){let a=this.data[e];Array.isArray(a)&&a.length>t&&(this.data[e]=a.slice(-t))}trimAllMetrics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8;Object.entries({performance:1e3,errors:100,user:500,wallet:200,transactions:200,storage:200}).forEach(t=>{let[a,s]=t;this.trimMetrics(a,Math.floor(s*e))})}trackPagePerformance(){if(window.addEventListener("load",()=>{let e=performance.getEntriesByType("navigation")[0];e&&this.trackPerformance("page-load",e.loadEventEnd-e.fetchStart,"ms",{domContentLoaded:e.domContentLoadedEventEnd-e.fetchStart,domInteractive:e.domInteractive-e.fetchStart})}),"PerformanceObserver"in window)try{new PerformanceObserver(e=>{let t=e.getEntries(),a=t[t.length-1];this.trackPerformance("lcp",a.renderTime||a.loadTime,"ms")}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{this.trackPerformance("fid",e.processingStart-e.startTime,"ms")})}).observe({entryTypes:["first-input"]});let e=0;new PerformanceObserver(t=>{t.getEntries().forEach(t=>{t.hadRecentInput||(e+=t.value)}),this.trackPerformance("cls",e,"count")}).observe({entryTypes:["layout-shift"]})}catch(e){console.error("[Analytics] Failed to set up performance observers:",e)}}setupErrorTracking(){window.addEventListener("error",e=>{this.trackError(e.error||e.message,{filename:e.filename,lineno:e.lineno,colno:e.colno})}),window.addEventListener("unhandledrejection",e=>{this.trackError("Unhandled Promise Rejection: ".concat(e.reason),{promise:!0})})}trackVisibilityChanges(){"undefined"!=typeof document&&document.addEventListener("visibilitychange",()=>{this.trackUser(document.hidden?"page-hidden":"page-visible","navigation")})}getAverageMetric(e,t){let a=this.data[e].filter(e=>e.name===t);return 0===a.length?0:a.reduce((e,t)=>e+t.value,0)/a.length}groupByCategory(e){return e.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{})}countWalletActions(e){return this.data.wallet.filter(t=>t.action===e).length}getSuccessRate(e){let t=this.data[e];return 0===t.length?0:t.filter(e=>e.success).length/t.length*100}getTotalStorageSize(e){return this.data.storage.filter(t=>t.action===e&&t.size).reduce((e,t)=>e+(t.size||0),0)}constructor(){this.initialized=!1,this.config=r,this.sessionId=this.generateSessionId(),this.data=this.loadData()}}let n=null;function o(){return n||(n=new i),n}let l=new i},25288:function(e,t,a){"use strict";a.d(t,{P3:function(){return o},qn:function(){return c}}),a(22585);var s=a(32608);let r=null,i=null,n={testnet:{network:{name:"testnet",url:"https://fullnode.testnet.sui.io:443",faucetUrl:"https://faucet.testnet.sui.io",explorerUrl:"https://testnet.suiexplorer.com"},walrus:{networkUrl:"https://wal.testnet.sui.io",publisherUrl:"https://publisher-testnet.walrus.space",aggregatorUrl:"https://aggregator-testnet.walrus.space",apiPrefix:"https://api-testnet.walrus.tech/1.0"},deployment:{packageId:"0x0",digest:"unknown",timestamp:new Date().toISOString(),deployerAddress:"0x0"},contracts:{todoNft:{packageId:"0x0",moduleName:"todo_nft",structName:"TodoNFT"}},features:{aiEnabled:!0,blockchainVerification:!1,encryptedStorage:!1}},devnet:{network:{name:"devnet",url:"https://fullnode.devnet.sui.io:443",faucetUrl:"https://faucet.devnet.sui.io",explorerUrl:"https://devnet.suiexplorer.com"},walrus:{networkUrl:"https://wal.devnet.sui.io",publisherUrl:"https://publisher-devnet.walrus.space",aggregatorUrl:"https://aggregator-devnet.walrus.space",apiPrefix:"https://api-devnet.walrus.tech/1.0"},deployment:{packageId:"0x0",digest:"unknown",timestamp:new Date().toISOString(),deployerAddress:"0x0"},contracts:{todoNft:{packageId:"0x0",moduleName:"todo_nft",structName:"TodoNFT"}},features:{aiEnabled:!0,blockchainVerification:!1,encryptedStorage:!1}},localnet:{network:{name:"localnet",url:"http://localhost:9000",explorerUrl:"http://localhost:9001"},walrus:{networkUrl:"http://localhost:31415",publisherUrl:"http://localhost:31416",aggregatorUrl:"http://localhost:31417",apiPrefix:"http://localhost:31418/1.0"},deployment:{packageId:"0x0",digest:"unknown",timestamp:new Date().toISOString(),deployerAddress:"0x0"},contracts:{todoNft:{packageId:"0x0",moduleName:"todo_nft",structName:"TodoNFT"}},features:{aiEnabled:!0,blockchainVerification:!1,encryptedStorage:!1}}};async function o(e){try{let p=await fetch("/config/".concat(e,".json"));if(p.ok){var t,a,s,r,i,n,o,l,c,d,h,m,u,g;return{network:{name:(t=await p.json()).network||"testnet",url:t.rpcUrl||(null===(a=t.environment)||void 0===a?void 0:a.apiEndpoint)||"https://fullnode.testnet.sui.io:443",faucetUrl:t.faucetUrl,explorerUrl:t.explorerUrl||"https://testnet.suiexplorer.com"},walrus:{networkUrl:(null===(s=t.walrus)||void 0===s?void 0:s.networkUrl)||"https://wal.testnet.sui.io",publisherUrl:(null===(r=t.walrus)||void 0===r?void 0:r.publisherUrl)||"https://publisher-testnet.walrus.space",aggregatorUrl:(null===(i=t.walrus)||void 0===i?void 0:i.aggregatorUrl)||"https://aggregator-testnet.walrus.space",apiPrefix:(null===(n=t.walrus)||void 0===n?void 0:n.apiPrefix)||"https://api-testnet.walrus.tech/1.0"},deployment:{packageId:(null===(o=t.deployment)||void 0===o?void 0:o.packageId)||"0x0",digest:(null===(l=t.deployment)||void 0===l?void 0:l.transactionHash)||"unknown",timestamp:(null===(c=t.deployment)||void 0===c?void 0:c.timestamp)||new Date().toISOString(),deployerAddress:(null===(d=t.deployment)||void 0===d?void 0:d.deployerAddress)||"0x0"},contracts:{todoNft:{packageId:(null===(h=t.deployment)||void 0===h?void 0:h.packageId)||"0x0",moduleName:"todo_nft",structName:"TodoNFT"}},features:{aiEnabled:(null===(m=t.features)||void 0===m?void 0:m.aiIntegration)||!1,blockchainVerification:(null===(u=t.features)||void 0===u?void 0:u.blockchainVerification)||!1,encryptedStorage:(null===(g=t.features)||void 0===g?void 0:g.encryptedStorage)||!1}}}}catch(t){console.warn("Failed to load runtime config for ".concat(e,":"),t)}return null}async function l(e){return o(e)}async function c(){let e=s.env.NEXT_PUBLIC_NETWORK||"testnet";if(r&&i===e)return r;let t=await l(e);return t||(t=function(e){let t=n[e];if(!t)throw Error("No configuration available for network: ".concat(e));return console.warn("Using fallback configuration for ".concat(e," - run 'waltodo deploy' to generate proper config")),t}(e)),t.deployment.packageId&&"0x0"!==t.deployment.packageId||console.warn("Package ID not set - some blockchain features may not work"),r=t,i=e,t}}},function(e){e.O(0,[6168,2552,198,2294,1231,6229,3355,2010,9499,2391,1744],function(){return e(e.s=9566)}),_N_E=e.O()}]);