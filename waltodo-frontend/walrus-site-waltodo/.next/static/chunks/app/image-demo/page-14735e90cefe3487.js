(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5879],{95204:function(e,s,t){Promise.resolve().then(t.bind(t,79458))},57346:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var l=t(58396),a=t.n(l)},58396:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return n}});let l=t(89731);t(29754),t(22585);let a=l._(t(85988));function n(e,s){var t;let l={loading:e=>{let{error:s,isLoading:t,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e);let n={...l,...s};return(0,a.default)({...n,modules:null==(t=n.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},39621:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let l=t(11510);function a(e){let{reason:s,children:t}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(s);return t}},85988:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return o}});let l=t(29754),a=t(22585),n=t(39621),r=t(78384);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let s={...d,...e},t=(0,a.lazy)(()=>s.loader().then(i)),o=s.loading;function c(e){let i=o?(0,l.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=s.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(r.PreloadCss,{moduleIds:s.modules}):null,(0,l.jsx)(t,{...e})]}):(0,l.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(t,{...e})});return(0,l.jsx)(a.Suspense,{fallback:i,children:d})}return c.displayName="LoadableComponent",c}},78384:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return n}});let l=t(29754),a=t(79094);function n(e){let{moduleIds:s}=e;if("undefined"!=typeof window)return null;let t=(0,a.getExpectedRequestStore)("next/dynamic css"),n=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));n.push(...s)}}return 0===n.length?null:(0,l.jsx)(l.Fragment,{children:n.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},79458:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var l=t(29754),a=t(22585);let n=(0,t(57346).default)(()=>Promise.all([t.e(9431),t.e(5604),t.e(1705),t.e(2196),t.e(2608)]).then(t.bind(t,62196)).then(e=>({default:e.OptimizedImageGallery})),{loadableGenerated:{webpack:()=>[62196]},ssr:!1,loading:()=>(0,l.jsx)("div",{className:"animate-pulse bg-gray-200 h-64 rounded-lg"})}),r=Promise.all([t.e(5604),t.e(2540)]).then(t.bind(t,18125)),i=[{id:"1",src:"https://images.unsplash.com/photo-1611095973763-414019e72400?w=800",alt:"Todo image 1"},{id:"2",src:"https://images.unsplash.com/photo-1611095973971-7d0238b7e8d9?w=800",alt:"Todo image 2"},{id:"3",src:"https://images.unsplash.com/photo-1611095973363-9f0a5d6d1e84?w=800",alt:"Todo image 3"},{id:"4",src:"https://images.unsplash.com/photo-1611095973715-95b2b28168f9?w=800",alt:"Todo image 4"},{id:"5",src:"https://images.unsplash.com/photo-1611095974172-2a979e6e0289?w=800",alt:"Todo image 5"},{id:"6",src:"https://images.unsplash.com/photo-1611095973362-88d8e92611a0?w=800",alt:"Todo image 6"}];function d(){let[e,s]=(0,a.useState)(!0),[t,d]=(0,a.useState)(null),[o,c]=(0,a.useState)(new Map),[u,m]=(0,a.useState)(null);a.useEffect(()=>{r&&r.then(e=>{m(e),e.checkWebPSupport().then(d)})},[]),a.useEffect(()=>{if(!u)return;let e=setInterval(()=>{c(new Map(u.getImagePerformanceMetrics()))},500);return()=>clearInterval(e)},[u]);let h=async()=>{if(!u)return;let e=i.map(e=>e.src);await u.preloadImages(e,{priority:"high"})};return(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Image Optimization Demo"}),(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-8 shadow-lg",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"System Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"WebP Support:"})," ",null===t?"Checking...":t?"✅ Yes":"❌ No"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Intersection Observer:"})," ","IntersectionObserver"in window?"✅ Yes":"❌ No"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Service Worker:"})," ","undefined"!=typeof navigator&&"serviceWorker"in navigator?"✅ Yes":"❌ No"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Cache API:"})," ","caches"in window?"✅ Yes":"❌ No"]})]})]}),(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-8 shadow-lg",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Controls"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Preload All Images"}),(0,l.jsx)("button",{onClick:()=>{u&&(u.clearImageCaches(),window.location.reload())},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Clear Cache & Reload"}),(0,l.jsxs)("button",{onClick:()=>s(!e),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:[e?"Hide":"Show"," Metrics"]})]})]}),e&&o.size>0&&(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-8 shadow-lg",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Performance Metrics"}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b",children:[(0,l.jsx)("th",{className:"text-left p-2",children:"Image"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Load Time"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Size"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Format"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Cached"})]})}),(0,l.jsx)("tbody",{children:Array.from(o.entries()).map(e=>{let[s,t]=e;return(0,l.jsxs)("tr",{className:"border-b",children:[(0,l.jsx)("td",{className:"p-2 truncate max-w-xs",children:s.split("/").pop()}),(0,l.jsxs)("td",{className:"p-2",children:[t.loadTime.toFixed(0),"ms"]}),(0,l.jsxs)("td",{className:"p-2",children:[(t.size/1024).toFixed(1),"KB"]}),(0,l.jsx)("td",{className:"p-2",children:t.format}),(0,l.jsx)("td",{className:"p-2",children:t.cached?"✅":"❌"})]},s)})})]})}),(0,l.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Total Images:"})," ",o.size]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Avg Load Time:"})," ",o.size>0?(Array.from(o.values()).reduce((e,s)=>e+s.loadTime,0)/o.size).toFixed(0):0,"ms"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Cached:"})," ",Array.from(o.values()).filter(e=>e.cached).length," /"," ",o.size]})]})]}),(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Optimized Image Gallery"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Scroll down to see lazy loading in action. Images are loaded progressively with blur placeholders."}),(0,l.jsx)(n,{images:i,columns:3})]}),(0,l.jsxs)("div",{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Features Demonstrated:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,l.jsx)("li",{children:"Progressive image loading with blur placeholders"}),(0,l.jsx)("li",{children:"Lazy loading with Intersection Observer"}),(0,l.jsx)("li",{children:"WebP format conversion when supported"}),(0,l.jsx)("li",{children:"Responsive images with srcset"}),(0,l.jsx)("li",{children:"Image preloading for visible items"}),(0,l.jsx)("li",{children:"Offline caching with Cache API"}),(0,l.jsx)("li",{children:"Performance monitoring and metrics"}),(0,l.jsx)("li",{children:"Error handling and retry logic"})]})]})]})}}},function(e){e.O(0,[9499,2391,1744],function(){return e(e.s=95204)}),_N_E=e.O()}]);