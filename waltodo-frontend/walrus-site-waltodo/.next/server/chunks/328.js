"use strict";exports.id=328,exports.ids=[328],exports.modules={35328:(e,a,s)=>{s.d(a,{x:()=>y});var t=s(87009),d=s(65778),l=s.n(d),r=s(926),i=s(17432),n=s(45209),o=s(93109),c=s(30242),x=s(36942),m=s(73940),h=s(90193),u=s(43467),p=s(37727);function j(e,a=6,s=4){return!e||e.length<=a+s+3?e:`${e.slice(0,a)}...${e.slice(-s)}`}let g={high:"bg-red-100 text-red-800 border-red-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-green-100 text-green-800 border-green-200"},b={completed:"bg-green-100 text-green-800 border-green-200",pending:"bg-gray-100 text-gray-800 border-gray-200"},v=()=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[t.jsx("div",{className:"h-48 bg-gray-200"}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]})]})]}),f=({message:e="Failed to load NFT"})=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border-2 border-red-200",children:[t.jsx("div",{className:"h-48 bg-red-50 flex items-center justify-center",children:t.jsx("svg",{className:"w-12 h-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),t.jsx("div",{className:"p-4",children:t.jsx("p",{className:"text-red-600 font-medium",children:e})})]}),y=({todo:e,displayMode:a="gallery",variant:s="default",onComplete:d,onTransfer:y,onClick:w,showActions:N=!0,enableFlip:k=!0,className:C="",loading:L=!1})=>{let[M,I]=(0,r.useState)(!1),[z,S]=(0,r.useState)(!1),[W,$]=(0,r.useState)(!1),[D,T]=(0,r.useState)(""),[F,A]=(0,r.useState)(!1);(0,o.useRouter)(),(0,h.n)();let B=(0,u.tN)();(0,c.ZZ)();let E=B?.account,P=(0,r.useMemo)(()=>(0,m.W$)(e),[e]),U=(0,r.useCallback)(a=>{a.target.closest("button, a")||(k&&I(!M),w?.(e))},[k,M,w,e]),_=(0,r.useCallback)(async()=>{if(d&&!e.completed&&!z){S(!0);try{await d(e.id),p.Am.success("Todo marked as completed!")}catch(e){console.error("Failed to complete todo:",e),p.Am.error("Failed to complete todo")}finally{S(!1)}}},[d,e.completed,e.id,z]),V=(0,r.useCallback)(async()=>{if(y&&D&&!z){if(!D.startsWith("0x")||66!==D.length){p.Am.error("Invalid Sui address format");return}S(!0);try{await y(e.id,D),p.Am.success("NFT transferred successfully!"),$(!1),T("")}catch(e){console.error("Failed to transfer NFT:",e),p.Am.error("Failed to transfer NFT")}finally{S(!1)}}},[y,D,e.id,z]),Z=(0,r.useCallback)(()=>{if(!e.objectId)return;let a=`https://suiexplorer.com/object/${e.objectId}?network=testnet`;window.open(a,"_blank","noopener,noreferrer")},[e.objectId]),H=(0,r.useCallback)(e=>{if(!e)return"N/A";try{return(0,i.WU)(new Date(e),"MMM d, yyyy")}catch{return"Invalid date"}},[]),O=(0,r.useCallback)(e=>{if(!e)return"";try{return(0,n.Q)(new Date(e),{addSuffix:!0})}catch{return""}},[]);if(L)return t.jsx(v,{});if("error"===e.loadingState||F)return t.jsx(f,{message:e.imageLoadError});if("list"===s)return(0,t.jsxs)("div",{className:`bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 p-4 ${C}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 w-20 h-20 relative",children:[t.jsx(x.Z,{url:e.imageUrl||e.displayImageUrl||"",alt:e.title,displayMode:"thumbnail",className:"w-full h-full object-cover rounded-md",priority:!1,onError:()=>A(!0)}),t.jsx("div",{className:"absolute -top-2 -left-2",children:t.jsx("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded-full ${g[e.priority]}`,children:e.priority[0].toUpperCase()})})]}),t.jsx("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:e.title}),e.description&&t.jsx("p",{className:"text-xs text-gray-600 mt-0.5 line-clamp-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[t.jsx("span",{className:`font-medium ${e.completed?"text-green-600":"text-gray-600"}`,children:e.completed?"Completed":"Pending"}),t.jsx("span",{children:H(e.createdAt)}),e.tags&&e.tags.length>0&&(0,t.jsxs)("span",{children:[e.tags.length," tag",e.tags.length>1?"s":""]})]})]}),N&&(0,t.jsxs)("div",{className:"flex items-center gap-1 ml-4",children:[!e.completed&&d&&t.jsx("button",{onClick:e=>{e.stopPropagation(),_()},disabled:z,className:"p-1.5 text-green-600 hover:bg-green-50 rounded-md disabled:opacity-50",title:"Complete",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),y&&t.jsx("button",{onClick:e=>{e.stopPropagation(),$(!0)},disabled:z,className:"p-1.5 text-gray-600 hover:bg-gray-50 rounded-md disabled:opacity-50",title:"Transfer",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),e.objectId&&t.jsx("button",{onClick:e=>{e.stopPropagation(),Z()},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-md",title:"View on Explorer",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})})]}),W&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",onClick:e=>e.stopPropagation(),children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transfer NFT"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter the Sui address to transfer this NFT to:"}),t.jsx("input",{type:"text",value:D,onChange:e=>T(e.target.value),placeholder:"0x...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:z}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[t.jsx("button",{onClick:V,disabled:!D||z,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:z?"Transferring...":"Transfer"}),t.jsx("button",{onClick:()=>{$(!1),T("")},disabled:z,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]});let Y=["relative w-full h-full preserve-3d transition-transform duration-700",M&&"rotate-y-180",C].filter(Boolean).join(" ");return(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 relative perspective-1000",children:[(0,t.jsxs)("div",{onClick:U,className:"jsx-9adad79d2c950327 "+(Y||""),children:[t.jsx("div",{className:"jsx-9adad79d2c950327 absolute inset-0 backface-hidden",children:(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 bg-white rounded-lg shadow-lg overflow-hidden h-full flex flex-col hover:shadow-xl transition-shadow duration-300",children:[(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 relative h-48 bg-gray-100",children:[t.jsx(x.Z,{url:e.imageUrl||e.displayImageUrl||"",alt:e.title,displayMode:"thumbnail"===a?"thumbnail":"preview",className:"w-full h-full object-cover",priority:"thumbnail"===a}),t.jsx("div",{className:"jsx-9adad79d2c950327 absolute top-2 right-2",children:t.jsx("span",{className:`jsx-9adad79d2c950327 px-2 py-1 text-xs font-medium rounded-full ${e.completed?b.completed:b.pending}`,children:e.completed?"Completed":"Pending"})}),t.jsx("div",{className:"jsx-9adad79d2c950327 absolute top-2 left-2",children:t.jsx("span",{className:`jsx-9adad79d2c950327 px-2 py-1 text-xs font-medium rounded-full ${g[e.priority]}`,children:e.priority})})]}),(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex-1 p-4 flex flex-col",children:[t.jsx("h3",{className:"jsx-9adad79d2c950327 text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:e.title}),e.description&&t.jsx("p",{className:"jsx-9adad79d2c950327 text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex-1 space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex items-center gap-2",children:[t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adad79d2c950327 w-4 h-4 text-gray-400",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",className:"jsx-9adad79d2c950327"})}),(0,t.jsxs)("span",{className:"jsx-9adad79d2c950327 text-gray-600",children:["Owner:",t.jsx("span",{title:e.owner||E?.address||"Unknown",className:"jsx-9adad79d2c950327 ml-1 font-mono text-xs cursor-help",children:j(e.owner||E?.address||"Unknown")})]})]}),(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex items-center gap-2",children:[t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adad79d2c950327 w-4 h-4 text-gray-400",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",className:"jsx-9adad79d2c950327"})}),(0,t.jsxs)("span",{className:"jsx-9adad79d2c950327 text-gray-600",children:["Created: ",H(e.createdAt),(0,t.jsxs)("span",{className:"jsx-9adad79d2c950327 text-xs text-gray-400 ml-1",children:["(",O(e.createdAt),")"]})]})]}),e.completed&&e.completedAt&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex items-center gap-2",children:[t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adad79d2c950327 w-4 h-4 text-green-500",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-9adad79d2c950327"})}),(0,t.jsxs)("span",{className:"jsx-9adad79d2c950327 text-gray-600",children:["Completed: ",H(e.completedAt)]})]}),e.tags&&e.tags.length>0&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex items-start gap-2",children:[t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adad79d2c950327 w-4 h-4 text-gray-400 mt-0.5",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",className:"jsx-9adad79d2c950327"})}),t.jsx("div",{className:"jsx-9adad79d2c950327 flex flex-wrap gap-1",children:e.tags.map((e,a)=>t.jsx("span",{className:"jsx-9adad79d2c950327 px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full",children:e},a))})]})]}),N&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex gap-2 mt-4 pt-4 border-t border-gray-100",children:[!e.completed&&d&&t.jsx("button",{onClick:e=>{e.stopPropagation(),_()},disabled:z,className:"jsx-9adad79d2c950327 flex-1 px-3 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:z?"Processing...":"Complete"}),y&&t.jsx("button",{onClick:e=>{e.stopPropagation(),$(!0)},disabled:z,className:"jsx-9adad79d2c950327 flex-1 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Transfer"}),e.objectId&&t.jsx("button",{onClick:e=>{e.stopPropagation(),Z()},title:"View on Sui Explorer",className:"jsx-9adad79d2c950327 px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adad79d2c950327 w-5 h-5",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14",className:"jsx-9adad79d2c950327"})})})]})]})]})}),k&&t.jsx("div",{className:"jsx-9adad79d2c950327 absolute inset-0 backface-hidden rotate-y-180",children:(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 bg-white rounded-lg shadow-lg overflow-hidden h-full p-6",children:[(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex justify-between items-start mb-4",children:[t.jsx("h3",{className:"jsx-9adad79d2c950327 text-xl font-semibold text-gray-900",children:"NFT Metadata"}),t.jsx("button",{onClick:e=>{e.stopPropagation(),I(!1)},className:"jsx-9adad79d2c950327 text-gray-400 hover:text-gray-600",children:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adad79d2c950327 w-6 h-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-9adad79d2c950327"})})})]}),(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 space-y-4 overflow-y-auto max-h-[calc(100%-3rem)]",children:[(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327",children:[t.jsx("h4",{className:"jsx-9adad79d2c950327 font-medium text-gray-900 mb-2",children:"NFT Details"}),(0,t.jsxs)("dl",{className:"jsx-9adad79d2c950327 space-y-1 text-sm",children:[e.objectId&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex justify-between",children:[t.jsx("dt",{className:"jsx-9adad79d2c950327 text-gray-600",children:"Object ID:"}),t.jsx("dd",{className:"jsx-9adad79d2c950327 font-mono text-xs",children:j(e.objectId,8,6)})]}),e.nftTokenId&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex justify-between",children:[t.jsx("dt",{className:"jsx-9adad79d2c950327 text-gray-600",children:"Token ID:"}),t.jsx("dd",{className:"jsx-9adad79d2c950327 font-mono text-xs",children:j(e.nftTokenId,8,6)})]}),e.walrusImageBlobId&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex justify-between",children:[t.jsx("dt",{className:"jsx-9adad79d2c950327 text-gray-600",children:"Image Blob ID:"}),t.jsx("dd",{className:"jsx-9adad79d2c950327 font-mono text-xs",children:j(e.walrusImageBlobId,8,6)})]})]})]}),(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327",children:[t.jsx("h4",{className:"jsx-9adad79d2c950327 font-medium text-gray-900 mb-2",children:"Attributes"}),t.jsx("div",{className:"jsx-9adad79d2c950327 grid grid-cols-2 gap-2",children:P.map((e,a)=>(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 bg-gray-50 rounded p-2",children:[t.jsx("div",{className:"jsx-9adad79d2c950327 text-xs text-gray-600",children:e.trait_type}),t.jsx("div",{className:"jsx-9adad79d2c950327 text-sm font-medium",children:"date"===e.display_type&&"number"==typeof e.value?(0,i.WU)(new Date(1e3*e.value),"MMM d, yyyy"):String(e.value)})]},a))})]}),e.metadata&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327",children:[t.jsx("h4",{className:"jsx-9adad79d2c950327 font-medium text-gray-900 mb-2",children:"Additional Metadata"}),t.jsx("pre",{className:"jsx-9adad79d2c950327 bg-gray-50 rounded p-2 text-xs overflow-x-auto",children:JSON.stringify(JSON.parse(e.metadata),null,2)})]}),e.contentData&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327",children:[t.jsx("h4",{className:"jsx-9adad79d2c950327 font-medium text-gray-900 mb-2",children:"Content Data"}),(0,t.jsxs)("dl",{className:"jsx-9adad79d2c950327 space-y-1 text-sm",children:[e.contentData.attachments&&e.contentData.attachments.length>0&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327",children:[t.jsx("dt",{className:"jsx-9adad79d2c950327 text-gray-600",children:"Attachments:"}),(0,t.jsxs)("dd",{className:"jsx-9adad79d2c950327",children:[e.contentData.attachments.length," file(s)"]})]}),e.contentData.checklist&&e.contentData.checklist.length>0&&(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327",children:[t.jsx("dt",{className:"jsx-9adad79d2c950327 text-gray-600",children:"Checklist Items:"}),(0,t.jsxs)("dd",{className:"jsx-9adad79d2c950327",children:[e.contentData.checklist.filter(e=>e.completed).length,"/",e.contentData.checklist.length," completed"]})]})]})]})]})]})})]}),W&&t.jsx("div",{className:"jsx-9adad79d2c950327 fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-9adad79d2c950327 bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:[t.jsx("h3",{className:"jsx-9adad79d2c950327 text-lg font-semibold mb-4",children:"Transfer NFT"}),t.jsx("p",{className:"jsx-9adad79d2c950327 text-sm text-gray-600 mb-4",children:"Enter the Sui address to transfer this NFT to:"}),t.jsx("input",{type:"text",value:D,onChange:e=>T(e.target.value),placeholder:"0x...",disabled:z,className:"jsx-9adad79d2c950327 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"jsx-9adad79d2c950327 flex gap-2 mt-4",children:[t.jsx("button",{onClick:V,disabled:!D||z,className:"jsx-9adad79d2c950327 flex-1 px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:z?"Transferring...":"Transfer"}),t.jsx("button",{onClick:()=>{$(!1),T("")},disabled:z,className:"jsx-9adad79d2c950327 flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})}),t.jsx(l(),{id:"9adad79d2c950327",children:".perspective-1000.jsx-9adad79d2c950327{-webkit-perspective:1e3px;-moz-perspective:1e3px;perspective:1e3px}.preserve-3d.jsx-9adad79d2c950327{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d}.backface-hidden.jsx-9adad79d2c950327{-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}.rotate-y-180.jsx-9adad79d2c950327{-webkit-transform:rotatey(180deg);-moz-transform:rotatey(180deg);-ms-transform:rotatey(180deg);-o-transform:rotatey(180deg);transform:rotatey(180deg)}.line-clamp-1.jsx-9adad79d2c950327{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.line-clamp-2.jsx-9adad79d2c950327{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}"})]})}},36942:(e,a,s)=>{s.d(a,{Z:()=>n});var t=s(87009),d=s(926),l=s(55809);function r({blobId:e,imageUrl:a,alt:s,className:r="",width:i,height:n,priority:o=!1,placeholder:c="blur",quality:x=75,sizes:m,onLoad:h,onError:u}){let[p,j]=(0,d.useState)(!1),[g,b]=(0,d.useState)(!0),v=(0,d.useMemo)(()=>e?["https://aggregator.walrus-testnet.walrus.space","https://walrus-testnet-publisher.nodes.guru","https://publisher-devnet.walrus.space"].map(a=>`${a}/v1/${e}`):[],[e]),f=(0,d.useMemo)(()=>a||(v.length>0?v[0]:void 0),[a,v]),y=(0,d.useCallback)(()=>{b(!1),j(!1),h?.()},[h]),w=(0,d.useCallback)(()=>{j(!0),b(!1);let e=Error("Failed to load Walrus image");u?.(e)},[u]);return f?p?t.jsx("div",{className:`bg-red-100 border border-red-300 flex items-center justify-center ${r}`,style:{width:i,height:n},children:(0,t.jsxs)("div",{className:"text-center p-4",children:[t.jsx("svg",{className:"w-8 h-8 text-red-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-xs text-red-600",children:"Failed to load image"}),e&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1 truncate",title:e,children:["Blob: ",e.slice(0,8),"..."]})]})}):(0,t.jsxs)("div",{className:`relative ${r}`,children:[g&&t.jsx("div",{className:"absolute inset-0 bg-gray-200 flex items-center justify-center animate-pulse",style:{width:i,height:n},children:(0,t.jsxs)("svg",{className:"w-8 h-8 text-gray-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),t.jsx(l.dg,{src:f,alt:s,width:i,height:n,className:`${g?"opacity-0":"opacity-100"} transition-opacity duration-300`,priority:o,placeholder:c,quality:x,sizes:m,onLoad:y,onError:w}),!1]}):t.jsx("div",{className:`bg-gray-200 flex items-center justify-center ${r}`,style:{width:i,height:n},children:t.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}let i={thumbnail:{width:150,height:150,size:"thumbnail",containerClass:"w-[150px] h-[150px]"},preview:{width:400,height:400,size:"medium",containerClass:"w-[400px] h-[400px]"},full:{width:1200,height:1200,size:"large",containerClass:"w-full max-w-[1200px] h-[600px]"}};function n({url:e,alt:a,mode:s,displayMode:n="preview",className:o="",onClick:c,onLoad:x,onError:m,priority:h=!1,placeholder:u="blur",blurDataURL:p,quality:j=75,sizes:g,showSkeleton:b=!1,lazy:v=!1,expandable:f=!0,fallbackUrl:y,enableHover:w=!0,ariaLabel:N}){let[k,C]=(0,d.useState)(!1),[L,M]=(0,d.useState)(!1),[I,z]=(0,d.useState)(!0),[S,W]=(0,d.useState)(!v),$=s||n,D=(0,d.useMemo)(()=>{if(!e)return{isWalrus:!1,blobId:null};if(e.startsWith("walrus://"))return{isWalrus:!0,blobId:e.replace("walrus://","").split("/")[0]};let a=e.match(/\/v1\/([a-zA-Z0-9_-]+)/);return a?{isWalrus:!0,blobId:a[1]}:e.includes("walrus")||e.includes("aggregator")?{isWalrus:!0,blobId:null}:/^[a-zA-Z0-9_-]+$/.test(e)&&e.length>20?{isWalrus:!0,blobId:e}:{isWalrus:!1,blobId:null}},[e]),T=(0,d.useMemo)(()=>L&&y?y:e,[e,L,y]),F=(0,d.useCallback)(()=>{c?c():f&&C(!k)},[c,k,f]),A=(0,d.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),F()),"Escape"===e.key&&k&&C(!1)},[F,k]),B=(0,d.useMemo)(()=>i[k?"full":$],[$,k]);(0,d.useMemo)(()=>{if(g)return g;switch($){case"thumbnail":return"(max-width: 640px) 100vw, (max-width: 768px) 50vw, 150px";case"preview":return"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 400px";case"full":return"(max-width: 1200px) 100vw, 1200px";default:return}},[g,$]);let E=(0,d.useCallback)(()=>{M(!0),z(!1),m?.(Error("Failed to load image"))},[m]),P=(0,d.useCallback)(()=>{z(!1),x?.()},[x]),U=(0,d.useRef)(null),_={alt:a,className:"w-full h-full",priority:h,placeholder:u,onLoad:P,onError:E,width:B.width,height:B.height},V=k&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 p-4",onClick:()=>C(!1),role:"dialog","aria-modal":"true","aria-label":"Expanded image view",children:(0,t.jsxs)("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[t.jsx("button",{className:"absolute -top-12 right-0 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-opacity",onClick:e=>{e.stopPropagation(),C(!1)},"aria-label":"Close modal",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("div",{className:"relative overflow-hidden rounded-lg",onClick:e=>e.stopPropagation(),children:D.isWalrus?t.jsx(r,{blobId:D.blobId||void 0,imageUrl:D.blobId?void 0:T,..._,sizes:"100vw",className:"max-w-full max-h-[90vh] object-contain"}):t.jsx(l.dg,{src:T,..._,sizes:"100vw",className:"max-w-full max-h-[90vh] object-contain"})})]})});if(b&&(I||!S))return t.jsx("div",{className:`relative inline-block ${o}`,role:"status","aria-label":"Loading image",children:t.jsx("div",{className:`animate-pulse bg-gray-300 rounded-lg ${B.containerClass}`})});if(L&&!y)return t.jsx("div",{className:`relative inline-block ${o}`,role:"alert","aria-label":"Failed to load image",children:t.jsx("div",{className:`flex items-center justify-center bg-gray-200 rounded-lg ${B.containerClass}`,children:t.jsx("span",{className:"text-gray-500 text-sm",children:"Failed to load image"})})});let Z=w&&(f||c);return(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{ref:U,className:`relative inline-block ${o}`,children:(0,t.jsxs)("div",{className:`relative overflow-hidden rounded-lg transition-all duration-300 ${Z?"cursor-pointer":""} ${Z&&"thumbnail"===$?"hover:scale-110":Z&&"preview"===$?"hover:scale-105":Z?"hover:scale-102":""} ${Z?"hover:shadow-lg":""} ${B.containerClass}`,onClick:f||c?F:void 0,onKeyDown:f||c?A:void 0,tabIndex:f||c?0:void 0,role:f||c?"button":"img","aria-label":N||(f?`${a} - Click to ${k?"close":"expand"}`:a),children:[S&&(D.isWalrus?t.jsx(r,{blobId:D.blobId||void 0,imageUrl:D.blobId?void 0:T,..._}):t.jsx(l.dg,{src:T,..._})),Z&&f&&t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-opacity duration-300 flex items-center justify-center pointer-events-none",children:t.jsx("svg",{className:"w-12 h-12 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]})}),V]})}},90193:(e,a,s)=>{s.d(a,{n:()=>l});var t=s(926),d=s(11470);function l(e="testnet"){let[a,s]=(0,t.useState)(!1),[l,r]=(0,t.useState)(!1),[i,n]=(0,t.useState)(null),[o,c]=(0,t.useState)(!1),[x,m]=(0,t.useState)(!1),h=(0,t.useCallback)(async()=>{if(o&&!l){if(a||(0,d.Yb)()){a||s(!0);return}r(!0),n(null),m(!0);try{if(await (0,d.sP)(e),(0,d.Yb)())o&&s(!0);else throw Error("Client initialization completed but verification failed")}catch(a){let e=a instanceof Error?a.message:"Failed to initialize Sui client";o&&(n(e),console.error("[useSuiClient] Initialization failed:",a))}finally{o&&r(!1)}}},[e,l,a,o]),u=(0,t.useCallback)(async()=>{if(!o)return null;try{if((0,d.Yb)()||(console.warn("[useSuiClient] Client not available, attempting to initialize..."),await h(),(0,d.Yb)()))return await (0,d.tx)();throw Error("Client still not available after initialization")}catch(e){return console.error("[useSuiClient] Failed to get client:",e),n(e instanceof Error?e.message:"Failed to get client"),null}},[h,o]);return{isInitialized:a,isInitializing:l,error:i,initialize:h,getClient:u}}},73940:(e,a,s)=>{function t(e,a){var s;let t=e.imageUrl&&function(e){let a=e.match(/\/v1\/([a-zA-Z0-9_-]+)/);return a?a[1]:null}(e.imageUrl),d={mode:"card",showMetadata:!0,showOwner:!1,showTimestamps:!0,enableLazyLoading:!0,fallbackImageUrl:"/images/default-todo-nft.png",...a};return{...e,displayImageUrl:e.imageUrl?(s=t||"",`https://aggregator.walrus-testnet.walrus.space/v1/${s}`):"",walrusImageBlobId:t||void 0,nftTokenId:e.objectId,loadingState:"idle",imageLoadError:void 0,contentData:e.metadata?function(e){try{return JSON.parse(e)}catch{return null}}(e.metadata):void 0,displayConfig:d,thumbnails:{},blockchainMetadata:{}}}function d(e){let a=[{trait_type:"Status",value:e.completed?"Completed":"Pending"},{trait_type:"Priority",value:e.priority}];return e.tags&&e.tags.length>0&&a.push({trait_type:"Tags",value:e.tags.join(", ")}),e.dueDate&&a.push({trait_type:"Due Date",value:new Date(e.dueDate).getTime()/1e3,display_type:"date"}),e.completed&&e.completedAt&&a.push({trait_type:"Completed Date",value:new Date(e.completedAt).getTime()/1e3,display_type:"date"}),e.createdAt&&a.push({trait_type:"Created Date",value:new Date(e.createdAt).getTime()/1e3,display_type:"date"}),a}s.d(a,{L6:()=>t,W$:()=>d})}};