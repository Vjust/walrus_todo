(()=>{var e={};e.id=879,e.ids=[879],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},1312:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.Z,__next_app__:()=>m,originalPathname:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>n}),t(92641),t(26476),t(63862),t(98119);var a=t(1132),r=t(35974),l=t(40481),o=t(87609),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let n=["",{children:["image-demo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,92641)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/image-demo/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,26476)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,63862)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,98119)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/not-found.tsx"]}],d=["/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/image-demo/page.tsx"],c="/image-demo/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/image-demo/page",pathname:"/image-demo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},37851:(e,s,t)=>{Promise.resolve().then(t.bind(t,66609))},59506:(e,s,t)=>{"use strict";t.d(s,{default:()=>r.a});var a=t(44175),r=t.n(a)},44175:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return l}});let a=t(51554);t(87009),t(926);let r=a._(t(40819));function l(e,s){var t;let a={loading:e=>{let{error:s,isLoading:t,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let l={...a,...s};return(0,r.default)({...l,modules:null==(t=l.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},865:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let a=t(12060);function r(e){let{reason:s,children:t}=e;throw new a.BailoutToCSRError(s)}},40819:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let a=t(87009),r=t(926),l=t(865),o=t(49007);function i(e){return{default:e&&"default"in e?e.default:e}}let n={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let s={...n,...e},t=(0,r.lazy)(()=>s.loader().then(i)),d=s.loading;function c(e){let i=d?(0,a.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,n=s.ssr?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.PreloadCss,{moduleIds:s.modules}),(0,a.jsx)(t,{...e})]}):(0,a.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(t,{...e})});return(0,a.jsx)(r.Suspense,{fallback:i,children:n})}return c.displayName="LoadableComponent",c}},49007:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return l}});let a=t(87009),r=t(54580);function l(e){let{moduleIds:s}=e,t=(0,r.getExpectedRequestStore)("next/dynamic css"),l=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));l.push(...s)}}return 0===l.length?null:(0,a.jsx)(a.Fragment,{children:l.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},66609:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(87009),r=t(926);let l=(0,t(59506).default)(async()=>{},{loadableGenerated:{modules:["../../src/app/image-demo/page.tsx -> @/components/OptimizedImage"]},ssr:!1,loading:()=>a.jsx("div",{className:"animate-pulse bg-gray-200 h-64 rounded-lg"})}),o=[{id:"1",src:"https://images.unsplash.com/photo-1611095973763-414019e72400?w=800",alt:"Todo image 1"},{id:"2",src:"https://images.unsplash.com/photo-1611095973971-7d0238b7e8d9?w=800",alt:"Todo image 2"},{id:"3",src:"https://images.unsplash.com/photo-1611095973363-9f0a5d6d1e84?w=800",alt:"Todo image 3"},{id:"4",src:"https://images.unsplash.com/photo-1611095973715-95b2b28168f9?w=800",alt:"Todo image 4"},{id:"5",src:"https://images.unsplash.com/photo-1611095974172-2a979e6e0289?w=800",alt:"Todo image 5"},{id:"6",src:"https://images.unsplash.com/photo-1611095973362-88d8e92611a0?w=800",alt:"Todo image 6"}];function i(){let[e,s]=(0,r.useState)(!0),[t,i]=(0,r.useState)(null),[n,d]=(0,r.useState)(new Map),[c,m]=(0,r.useState)(null),u=async()=>{if(!c)return;let e=o.map(e=>e.src);await c.preloadImages(e,{priority:"high"})};return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Image Optimization Demo"}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-8 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"System Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"WebP Support:"})," ",null===t?"Checking...":t?"✅ Yes":"❌ No"]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Intersection Observer:"})," ","❌ No"]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Service Worker:"})," ","undefined"!=typeof navigator&&"serviceWorker"in navigator?"✅ Yes":"❌ No"]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Cache API:"})," ","❌ No"]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-8 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Controls"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Preload All Images"}),a.jsx("button",{onClick:()=>{c&&c.clearImageCaches()},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Clear Cache & Reload"}),(0,a.jsxs)("button",{onClick:()=>s(!e),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:[e?"Hide":"Show"," Metrics"]})]})]}),e&&n.size>0&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 mb-8 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Performance Metrics"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"Image"}),a.jsx("th",{className:"text-left p-2",children:"Load Time"}),a.jsx("th",{className:"text-left p-2",children:"Size"}),a.jsx("th",{className:"text-left p-2",children:"Format"}),a.jsx("th",{className:"text-left p-2",children:"Cached"})]})}),a.jsx("tbody",{children:Array.from(n.entries()).map(([e,s])=>(0,a.jsxs)("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2 truncate max-w-xs",children:e.split("/").pop()}),(0,a.jsxs)("td",{className:"p-2",children:[s.loadTime.toFixed(0),"ms"]}),(0,a.jsxs)("td",{className:"p-2",children:[(s.size/1024).toFixed(1),"KB"]}),a.jsx("td",{className:"p-2",children:s.format}),a.jsx("td",{className:"p-2",children:s.cached?"✅":"❌"})]},e))})]})}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Images:"})," ",n.size]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Avg Load Time:"})," ",n.size>0?(Array.from(n.values()).reduce((e,s)=>e+s.loadTime,0)/n.size).toFixed(0):0,"ms"]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Cached:"})," ",Array.from(n.values()).filter(e=>e.cached).length," /"," ",n.size]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Optimized Image Gallery"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Scroll down to see lazy loading in action. Images are loaded progressively with blur placeholders."}),a.jsx(l,{images:o,columns:3})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Features Demonstrated:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[a.jsx("li",{children:"Progressive image loading with blur placeholders"}),a.jsx("li",{children:"Lazy loading with Intersection Observer"}),a.jsx("li",{children:"WebP format conversion when supported"}),a.jsx("li",{children:"Responsive images with srcset"}),a.jsx("li",{children:"Image preloading for visible items"}),a.jsx("li",{children:"Offline caching with Cache API"}),a.jsx("li",{children:"Performance monitoring and metrics"}),a.jsx("li",{children:"Error handling and retry logic"})]})]})]})}},92641:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(72807).createProxy)(String.raw`/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/src/app/image-demo/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[530,803],()=>t(1312));module.exports=a})();