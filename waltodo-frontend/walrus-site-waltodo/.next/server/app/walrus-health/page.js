(()=>{var e={};e.id=158,e.ids=[158],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},16986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>h,tree:()=>o}),s(14749),s(26476),s(63862),s(98119);var r=s(1132),a=s(35974),n=s(40481),i=s(87609),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let o=["",{children:["walrus-health",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,14749)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/walrus-health/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,26476)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,63862)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,98119)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/not-found.tsx"]}],c=["/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/walrus-health/page.tsx"],d="/walrus-health/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/walrus-health/page",pathname:"/walrus-health",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},32744:(e,t,s)=>{Promise.resolve().then(s.bind(s,32796))},32796:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(87009);s(926);var a=s(50612),n=s(37727);function i(){let{uploadBlob:e,retrieveBlob:t,error:s,loading:i}=(0,a.p)(),l=async()=>{try{n.Am.loading("Testing Walrus operations...",{id:"test"});let s=new Uint8Array([1,2,3,4,5,6,7,8,9,10]),r=await e(s,{metadata:{type:"manual-test",timestamp:Date.now()}});if(!r.success)throw Error(r.error||"Upload failed");if(n.Am.success(`Upload successful! Blob ID: ${r.blobId?.slice(0,8)}...`,{id:"test"}),r.blobId){let e=await t(r.blobId);if(!e.success)throw Error(e.error||"Retrieval failed");let a=e.data;a&&a.length===s.length&&(s.every((e,t)=>e===a[t])?n.Am.success("Data integrity verified!",{duration:3e3}):n.Am.error("Data integrity check failed!"))}}catch(e){n.Am.error(e instanceof Error?e.message:"Test failed",{id:"test"})}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Walrus Health Monitor"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Monitor and test the health of the Walrus storage service"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Manual Testing"}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("button",{onClick:l,disabled:i,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Testing...":"Run Manual Test"}),s&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:(0,r.jsxs)("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"Error:"})," ",s.message]})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Health Check Features"}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Automatic health monitoring every 30 seconds"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Connection status indicator with visual feedback"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Upload and retrieval testing with data integrity checks"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Network latency measurement and display"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Storage availability monitoring"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Manual retry functionality for failed connections"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Detailed diagnostic information and logs"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Automatic alerts on service degradation"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Fallback to local storage when service is unavailable"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),r.jsx("span",{children:"Health metrics logging for troubleshooting"})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"How It Works"}),(0,r.jsxs)("div",{className:"prose text-gray-600",children:[r.jsx("p",{className:"mb-4",children:"The WalrusHealthCheck component automatically monitors the health of the Walrus storage service. Look for the health indicator in the bottom-right corner of the screen:"}),(0,r.jsxs)("ul",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Green checkmark:"})," Service is healthy and operating normally"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Yellow warning:"})," Service is degraded but still functional"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Red alert:"})," Service is unhealthy or unavailable"]})]}),r.jsx("p",{className:"mb-4",children:"When the service is healthy, the indicator is minimized to avoid distraction. Click on it to expand and see detailed information about:"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx("li",{children:"Current connection status"}),r.jsx("li",{children:"Network latency measurements"}),r.jsx("li",{children:"Recent test results"}),r.jsx("li",{children:"Diagnostic logs"})]}),r.jsx("p",{children:"If the service becomes unavailable, the component will automatically suggest using local storage as a fallback, ensuring your todo data remains accessible."})]})]})]})})}},14749:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(72807).createProxy)(String.raw`/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/src/app/walrus-health/page.tsx#default`)},4074:(e,t,s)=>{"use strict";let r,a,n,i;s.d(t,{X3:()=>x});let l=(e,t)=>t.some(t=>e instanceof t),o=new WeakMap,c=new WeakMap,d=new WeakMap,u={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return h(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,s)=>{let r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",n)},a=()=>{t(h(e.result)),r()},n=()=>{s(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",n)});return d.set(t,e),t}(e);if(c.has(e))return c.get(e);let s="function"==typeof(t=e)?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(m(this),e),h(this.request)}:function(...e){return h(t.apply(m(this),e))}:(t instanceof IDBTransaction&&function(e){if(o.has(e))return;let t=new Promise((t,s)=>{let r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",n),e.removeEventListener("abort",n)},a=()=>{t(),r()},n=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",n),e.addEventListener("abort",n)});o.set(e,t)}(t),l(t,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,u):t;return s!==e&&(c.set(e,s),d.set(s,e)),s}let m=e=>d.get(e);function x(e,t,{blocked:s,upgrade:r,blocking:a,terminated:n}={}){let i=indexedDB.open(e,t),l=h(i);return r&&i.addEventListener("upgradeneeded",e=>{r(h(i.result),e.oldVersion,e.newVersion,h(i.transaction),e)}),s&&i.addEventListener("blocked",e=>s(e.oldVersion,e.newVersion,e)),l.then(e=>{n&&e.addEventListener("close",()=>n()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l}let p=["get","getKey","getAll","getAllKeys","count"],g=["put","add","delete","clear"],f=new Map;function j(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(f.get(t))return f.get(t);let s=t.replace(/FromIndex$/,""),r=t!==s,a=g.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(a||p.includes(s)))return;let n=async function(e,...t){let n=this.transaction(e,a?"readwrite":"readonly"),i=n.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[s](...t),a&&n.done]))[0]};return f.set(t,n),n}u={...n=u,get:(e,t,s)=>j(e,t)||n.get(e,t,s),has:(e,t)=>!!j(e,t)||n.has(e,t)};let w=["continue","continuePrimaryKey","advance"],b={},v=new WeakMap,y=new WeakMap,N={get(e,t){if(!w.includes(t))return e[t];let s=b[t];return s||(s=b[t]=function(...e){v.set(this,y.get(this)[t](...e))}),s}};async function*D(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let s=new Proxy(t,N);for(y.set(s,t),d.set(s,m(t));t;)yield s,t=await (v.get(s)||t.continue()),v.delete(s)}function I(e,t){return t===Symbol.asyncIterator&&l(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&l(e,[IDBIndex,IDBObjectStore])}u={...i=u,get:(e,t,s)=>I(e,t)?D:i.get(e,t,s),has:(e,t)=>I(e,t)||i.has(e,t)}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[530,803,467,238,612],()=>s(16986));module.exports=r})();