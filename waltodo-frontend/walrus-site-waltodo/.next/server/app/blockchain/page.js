(()=>{var e={};e.id=266,e.ids=[266],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},39496:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(32320),s(26476),s(63862),s(98119);var a=s(1132),r=s(35974),i=s(40481),n=s(87609),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let o=["",{children:["blockchain",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,32320)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/blockchain/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9342)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/blockchain/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,26476)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,63862)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,98119)),"/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/not-found.tsx"]}],c=["/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/walrus-site-waltodo/src/app/blockchain/page.tsx"],d="/blockchain/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/blockchain/page",pathname:"/blockchain",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3668:(e,t,s)=>{Promise.resolve().then(s.bind(s,13451))},62959:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(926);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:n,iconNode:d,...u},m)=>(0,a.createElement)("svg",{ref:m,...c,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:l("lucide",i),...!n&&!o(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),u=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...i},o)=>(0,a.createElement)(d,{ref:o,iconNode:t,className:l(`lucide-${r(n(e))}`,`lucide-${e}`,s),...i}));return s.displayName=n(e),s}},39066:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62959).Z)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},93109:(e,t,s)=>{"use strict";var a=s(47112);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},13451:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(87009),r=s(926),i=s(94493),n=s(43467),l=s(37727);function o({onSubmit:e,loading:t}){let[s,i]=(0,r.useState)({title:"",description:"",priority:"medium",dueDate:void 0,tags:[]}),[n,o]=(0,r.useState)({}),c=()=>{let e={};return s.title.trim()?s.title.length>100&&(e.title="Title must be 100 characters or less"):e.title="Title is required",s.description.length>500&&(e.description="Description must be 500 characters or less"),o(e),0===Object.keys(e).length},d=async t=>{if(t.preventDefault(),c())try{await e(s),i({title:"",description:"",priority:"medium",dueDate:void 0,tags:[]}),o({}),l.ZP.success("TodoNFT created successfully!",{duration:3e3,icon:"\uD83C\uDF89"})}catch(t){console.error("Create todo error:",t);let e=t instanceof Error?t.message:"Failed to create TodoNFT";l.ZP.error(e,{duration:5e3})}};return(0,a.jsxs)("form",{onSubmit:d,className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create TodoNFT"}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",id:"title",value:s.title,onChange:e=>i(t=>({...t,title:e.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter todo title",disabled:t}),n.title&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.title})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:s.description,onChange:e=>i(t=>({...t,description:e.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-vertical ${n.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter todo description",rows:3,disabled:t}),n.description&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.description})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,a.jsxs)("select",{id:"priority",value:s.priority||"medium",onChange:e=>i(t=>({...t,priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t,children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),a.jsx("input",{type:"date",id:"dueDate",value:"string"==typeof s.dueDate?s.dueDate:s.dueDate instanceof Date?s.dueDate.toISOString().split("T")[0]:"",onChange:e=>i(t=>({...t,dueDate:e.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),a.jsx("input",{type:"text",id:"tags",value:s.tags?.join(", ")||"",onChange:e=>i(t=>({...t,tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e.length>0)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"work, urgent, blockchain",disabled:t})]}),a.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?"Creating...":"Create TodoNFT"})]})}function c({todo:e,onUpdate:t,onComplete:s,onDelete:n,loading:o}){let[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)({title:e.title,description:e.description||""}),{executeOperation:h,loading:x}=(0,i.u6)(),p=async()=>{e.objectId&&await h(async()=>(await t({objectId:e.objectId,title:u.title,description:u.description}),d(!1),{success:!0}))},g=async()=>{e.objectId&&await h(async()=>(await s(e.objectId),{success:!0}))},b=async()=>{e.objectId&&window.confirm("Are you sure you want to delete this TodoNFT?")&&await h(async()=>(await n(e.objectId),l.ZP.success("TodoNFT deleted successfully!",{duration:3e3,icon:"\uD83D\uDDD1️"}),{success:!0}))},f=o||x;return(0,a.jsxs)("div",{className:`bg-white p-4 rounded-lg shadow-md border-l-4 ${e.completed?"border-green-500 bg-green-50":"border-blue-500"}`,children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[c?a.jsx("input",{type:"text",value:u.title,onChange:e=>m(t=>({...t,title:e.target.value})),className:"text-lg font-semibold bg-transparent border-b border-gray-300 focus:outline-none focus:border-blue-500 flex-1 mr-2",disabled:f}):a.jsx("h4",{className:`text-lg font-semibold ${e.completed?"line-through text-gray-500":"text-gray-900"}`,children:e.title}),a.jsx("div",{className:"flex space-x-2",children:c?(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:p,disabled:f,className:"text-green-600 hover:text-green-800 disabled:opacity-50",children:"Save"}),a.jsx("button",{onClick:()=>d(!1),disabled:f,className:"text-gray-600 hover:text-gray-800 disabled:opacity-50",children:"Cancel"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>d(!0),disabled:f||e.completed,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50",children:"Edit"}),!e.completed&&a.jsx("button",{onClick:g,disabled:f,className:"text-green-600 hover:text-green-800 disabled:opacity-50",children:"Complete"}),a.jsx("button",{onClick:b,disabled:f,className:"text-red-600 hover:text-red-800 disabled:opacity-50",children:"Delete"})]})})]}),c?a.jsx("div",{className:"space-y-2",children:a.jsx("textarea",{value:u.description,onChange:e=>m(t=>({...t,description:e.target.value})),className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-vertical",placeholder:"Description",rows:2,disabled:f})}):(0,a.jsxs)(a.Fragment,{children:[e.description&&a.jsx("p",{className:`text-gray-600 mb-2 ${e.completed?"line-through":""}`,children:e.description}),a.jsx("div",{className:"flex justify-between items-center text-sm text-gray-500",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"mr-4",children:["Object ID: ",e.objectId]}),e.createdAt&&(0,a.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})})]})]})}function d({currentNetwork:e,onSwitch:t,disabled:s}){return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Network:"}),a.jsx("select",{value:e,onChange:e=>t(e.target.value),disabled:s,className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[{value:"mainnet",label:"Mainnet"},{value:"testnet",label:"Testnet"},{value:"devnet",label:"Devnet"},{value:"localnet",label:"Local"}].map(({value:e,label:t})=>a.jsx("option",{value:e,children:t},e))})]})}function u(){let[e,t]=(0,r.useState)(!1),s=(0,n.tN)(),l=s?.connected||!1,u=s?.connecting||!1,h=s?.address||null,{state:x,actions:p,network:g,isWalletReady:b}=(0,i.h6)(),[f,y]=(0,r.useState)(!1);return e?l||u?u?a.jsx("div",{className:"max-w-4xl mx-auto p-6",children:(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-800 mb-2",children:"Connecting Wallet..."}),a.jsx("p",{className:"text-blue-700",children:"Please check your wallet and approve the connection."})]})}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"TodoNFT Manager"}),a.jsx(d,{currentNetwork:g,onSwitch:p.switchToNetwork,disabled:x.loading})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsxs)("p",{children:["Connected:"," ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:h})]}),(0,a.jsxs)("p",{children:["Network: ",g," ",x.networkHealth?"✅":"❌"]})]}),(0,a.jsxs)("div",{className:"space-x-2",children:[a.jsx("button",{onClick:()=>y(!f),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:f?"Hide Form":"Create TodoNFT"}),a.jsx("button",{onClick:p.refreshTodos,disabled:x.refreshing,className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 disabled:opacity-50 transition-colors",children:x.refreshing?"Refreshing...":"Refresh"})]})]})]}),x.error&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-red-800 font-medium",children:"Error"}),a.jsx("p",{className:"text-red-700",children:x.error})]}),a.jsx("button",{onClick:p.clearError,className:"text-red-600 hover:text-red-800",children:"Dismiss"})]})}),f&&a.jsx(o,{onSubmit:async e=>{await p.createTodo({title:e.title,description:e.description,priority:"medium",dueDate:void 0})},loading:x.loading}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Your TodoNFTs (",x.todos.length,")"]}),x.loading&&0===x.todos.length?a.jsx("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:a.jsx("p",{className:"text-gray-600",children:"Loading your TodoNFTs..."})}):0===x.todos.length?a.jsx("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:a.jsx("p",{className:"text-gray-600",children:"No TodoNFTs found. Create your first TodoNFT to get started!"})}):a.jsx("div",{className:"space-y-4",children:x.todos.map(e=>a.jsx(c,{todo:e,onUpdate:async e=>{await p.updateTodo(e)},onComplete:async e=>{await p.completeTodo(e)},onDelete:async e=>{await p.deleteTodo(e)},loading:x.loading},e.objectId))})]})]}):a.jsx("div",{className:"max-w-4xl mx-auto p-6",children:(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Wallet Connection Required"}),a.jsx("p",{className:"text-yellow-700",children:"Please connect your wallet to manage TodoNFTs on the Sui blockchain."})]})}):a.jsx(m,{})}function m(){return a.jsx("div",{className:"max-w-4xl mx-auto p-6",children:a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex justify-center items-center py-12",children:[a.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-gray-200 border-t-blue-600 animate-spin"}),a.jsx("div",{className:"ml-4",children:a.jsx("p",{className:"text-sm text-gray-500 animate-pulse",children:"Initializing blockchain manager..."})})]})})})}var h=s(20466);function x(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[i,n]=(0,r.useState)(!0),[l,o]=(0,r.useState)(h.l.getMetrics()),c=(0,r.useCallback)(async()=>!1,[]),d=(0,r.useCallback)(async()=>await h.l.requestNotificationPermission(),[]),u=(0,r.useCallback)(async(e,t)=>{await h.l.sendNotification(e,t)},[]),m=(0,r.useCallback)(async e=>{await h.l.cacheNFTImage(e)},[]),x=(0,r.useCallback)(async()=>{await h.l.clearNFTCache()},[]),p=(0,r.useCallback)(async e=>await h.l.share(e),[]);return{canInstall:e,isInstalled:s,isOnline:i,metrics:l,install:c,requestNotificationPermission:d,sendNotification:u,cacheNFTImage:m,clearNFTCache:x,share:p,canShare:(0,r.useCallback)(e=>h.l.canShare(e),[]),registerSync:(0,r.useCallback)(async e=>{await h.l.registerSync(e)},[]),registerPeriodicSync:(0,r.useCallback)(async(e,t)=>{await h.l.registerPeriodicSync(e,t)},[])}}var p=s(59475),g=s(62959);let b=(0,g.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var f=s(39066);let y=(0,g.Z)("image-off",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);function j(){let{isOnline:e,cacheNFTImage:t}=x(),[s,i]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),o=async()=>{if(!e){alert("Cannot refresh while offline");return}l(!0),l(!1)};return n?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx(b,{className:"w-8 h-8 animate-spin text-sky-500"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[!e&&(0,a.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 flex items-center gap-3",children:[a.jsx(f.Z,{className:"w-5 h-5 text-amber-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-amber-200 font-medium",children:"You're offline"}),a.jsx("p",{className:"text-amber-300 text-sm",children:"Showing cached NFTs. New NFTs will appear when you're back online."})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(t=>(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl overflow-hidden border border-slate-700 hover:border-sky-500/50 transition-all",children:[(0,a.jsxs)("div",{className:"aspect-square relative bg-slate-900",children:[t.imageUrl?a.jsx(p.default,{src:t.imageUrl,alt:t.name,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,a.jsx("div",{className:"hidden absolute inset-0 flex items-center justify-center",children:a.jsx(y,{className:"w-12 h-12 text-slate-600"})}),!e&&a.jsx("div",{className:"absolute top-2 right-2 bg-slate-900/80 backdrop-blur-sm rounded-full p-2",children:a.jsx(f.Z,{className:"w-4 h-4 text-amber-500"})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:t.name}),a.jsx("p",{className:"text-sm text-slate-400 line-clamp-2",children:t.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,a.jsxs)("span",{children:["Cached ",new Date(t.cachedAt).toLocaleDateString()]}),t.todoId&&a.jsx("span",{className:"bg-sky-500/20 text-sky-400 px-2 py-1 rounded-full",children:"Task NFT"})]})]})]},t.id))}),0===s.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(y,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"No cached NFTs"}),a.jsx("p",{className:"text-slate-500 mb-4",children:e?"Refresh to cache your NFTs for offline viewing":"Connect to the internet to cache NFTs"}),e&&a.jsx("button",{onClick:o,className:"bg-sky-500 hover:bg-sky-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Cache NFTs"})]}),s.length>0&&e&&a.jsx("div",{className:"flex justify-center",children:(0,a.jsxs)("button",{onClick:o,disabled:n,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[a.jsx(b,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh Cache"]})})]})}var N=s(93109);function v(){let e=(0,n.tN)(),t=e?.connected||!1,s=e?.connecting||!1,l=e?.account||null,o=e?.connect||(()=>{}),{state:c,network:d,isWalletReady:m}=(0,i.h6)(),[h,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),{isOnline:f}=x();return(0,N.useSearchParams)(),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4 text-ocean-deep dark:text-ocean-foam",children:"Blockchain Todos"}),a.jsx("p",{className:"text-ocean-medium dark:text-ocean-light",children:"Create, manage, and transfer your TodoNFTs on the Sui blockchain"})]}),a.jsx(()=>t?a.jsx("div",{className:"ocean-card mb-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-ocean-deep dark:text-ocean-foam mb-2",children:"Wallet Connected"}),(0,a.jsxs)("p",{className:"text-sm text-ocean-medium dark:text-ocean-light",children:["Address:"," ",a.jsx("code",{className:"bg-white/20 px-2 py-1 rounded text-xs",children:l?.address})]}),(0,a.jsxs)("p",{className:"text-sm text-ocean-medium dark:text-ocean-light",children:["Network: ",d," ",c.networkHealth?"✅":"⚠️"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>p(!h),className:"ocean-button text-sm",children:h?"Simple View":"Advanced Manager"}),(0,a.jsxs)("button",{onClick:()=>b(!g),className:"ocean-button text-sm",children:[g?"Hide":"Show"," Offline Gallery"]})]})]})}):a.jsx("div",{className:"ocean-card mb-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto text-ocean-medium",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-ocean-deep dark:text-ocean-foam mb-2",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-ocean-medium dark:text-ocean-light mb-6 max-w-md mx-auto",children:"Connect your Sui wallet to create, manage, and transfer TodoNFTs on the blockchain."}),a.jsx("button",{onClick:o,disabled:s,className:"ocean-button inline-flex items-center gap-2",children:s?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),"Connecting..."]}):"Connect Wallet"})]})}),{}),t&&(0,a.jsxs)(a.Fragment,{children:[h?a.jsx(u,{}):a.jsx("div",{className:"ocean-card",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-xl font-semibold text-ocean-deep dark:text-ocean-foam mb-2",children:"Simple Todo View"}),a.jsx("p",{className:"text-ocean-medium dark:text-ocean-light mb-6 max-w-md mx-auto",children:"Switch to Advanced Manager to create and manage TodoNFTs."}),a.jsx("button",{onClick:()=>p(!0),className:"ocean-button",children:"Open Advanced Manager"})]})}),g&&(0,a.jsxs)("div",{className:"ocean-card mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-ocean-deep dark:text-ocean-foam",children:f?"NFT Gallery":"Offline NFT Gallery"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${f?"bg-emerald-500/20 text-emerald-600":"bg-amber-500/20 text-amber-600"}`,children:f?"\uD83D\uDFE2 Online":"\uD83D\uDFE1 Offline"})]}),a.jsx(j,{})]})]})]})}function w(){return a.jsx(r.Suspense,{fallback:a.jsx("div",{className:"ocean-background min-h-screen"}),children:a.jsx(v,{})})}},20466:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});class a{constructor(){this.deferredPrompt=null,this.swRegistration=null,this.metrics={installPromptShown:0,installAccepted:0,installDismissed:0,notificationPermission:"default",offlineUsage:0,cacheHits:0,cacheMisses:0},this.initialized=!1}isInitialized(){return this.initialized}async init(){this.initialized}async showInstallPrompt(){if(!this.deferredPrompt)return!1;try{await this.deferredPrompt.prompt();let{outcome:e}=await this.deferredPrompt.userChoice;return"accepted"===e?this.metrics.installAccepted++:this.metrics.installDismissed++,this.saveMetrics(),this.deferredPrompt=null,"accepted"===e}catch(e){return console.error("[PWA] Install prompt error:",e),!1}}canInstall(){return null!==this.deferredPrompt}isInstalled(){return!1}async requestNotificationPermission(){return"denied"}async sendNotification(e,t){}async cacheNFTImage(e){"undefined"!=typeof navigator&&this.swRegistration&&navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"CACHE_NFT",url:e})}async clearNFTCache(){"undefined"!=typeof navigator&&this.swRegistration&&navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"CLEAR_NFT_CACHE"})}async registerSync(e){if(this.swRegistration&&"sync"in this.swRegistration)try{await this.swRegistration.sync.register(e)}catch(e){console.error("[PWA] Sync registration failed:",e)}}async registerPeriodicSync(e,t){if(this.swRegistration&&"periodicSync"in this.swRegistration)try{await this.swRegistration.periodicSync.register(e,{minInterval:t})}catch(e){console.error("[PWA] Periodic sync registration failed:",e)}}async share(e){if("undefined"==typeof navigator||!navigator.share)return!1;try{return await navigator.share(e),!0}catch(e){return"AbortError"!==e.name&&console.error("[PWA] Share failed:",e),!1}}canShare(e){return"undefined"!=typeof navigator&&!!navigator.share&&(!e||!("canShare"in navigator)||"function"!=typeof navigator.canShare||navigator.canShare(e))}getMetrics(){return{...this.metrics}}trackCacheHit(){this.metrics.cacheHits++,this.saveMetrics()}trackCacheMiss(){this.metrics.cacheMisses++,this.saveMetrics()}showUpdatePrompt(){}updateServiceWorker(){this.swRegistration&&this.swRegistration.waiting&&this.swRegistration.waiting.postMessage({type:"SKIP_WAITING"})}async syncOfflineData(){await this.registerSync("sync-todos"),await this.registerSync("sync-nfts")}loadMetrics(){}saveMetrics(){}}let r=null,i=r=new a},9342:(e,t,s)=>{"use strict";function a({children:e}){return e}s.r(t),s.d(t,{default:()=>a})},32320:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(72807).createProxy)(String.raw`/Users/angel/Documents/Projects/walrus_todo/waltodo-frontend/src/app/blockchain/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[530,663,803,467,238,413,844],()=>s(39496));module.exports=a})();